{"version":3,"sources":["fonts/CircularStd-Black.otf","store/actions/index.js","store/connect/index.js","components/utilityinput.js","components/utilityinputcontainer.js","components/buildingtypeinput.js","components/buildingtypecontainer.js","components/sidebar.js","components/numformat.js","components/charts/barchart.js","components/annualcostsummarycontainer.js","components/charts/carbonbar.js","components/carbonlimitcontainer.js","components/charts/donutchart.js","components/charts/donutlegend.js","components/buildingmetriccontainer.js","components/cardlayout.js","components/smallscreen.js","components/modal.js","components/ll84buildingtypelookup.js","components/loadbldgresultstable.js","components/loadbldgmodal.js","components/soqlquery.js","components/loadconfirmdialog.js","components/utilityratemodal.js","components/footer.js","App.js","serviceWorker.js","store/reducers/uireducer.js","components/compilebuilding.js","store/reducers/buildingreducer.js","components/defaultbuilding.js","store/reducers/index.js","store/configureStore.js","index.js"],"names":["module","exports","setDimensions","dims","type","payload","setIsDemoMode","bool","setIsLoadMode","setLoadBldgModalActive","setUtilityRateModalActive","setLoadConfirmDialogActive","setInfoModalActive","setBuilding","inputs","setDefaultBuilding","setDemoBuilding","setIsSmallScreen","setLoadTableData","data","setLoadInputValue","value","setLoadInputResponse","response","setLoadInputSelection","setIsLoadedError","setIsDefaultRates","useDefaultRates","useNullRates","mapDispatchToProps","dispatch","actions","bindActionCreators","Actions","mapStateToProps","state","conn","mapState","mapDispatch","connect","ownProps","utiltag","vals","building","utilities","props","title","cons_title","cost_title","consumptionRef","useRef","rateRef","className","ref","displayType","datatag","onValueChange","e","floatValue","fuel","current","Object","assign","cons","thousandSeparator","rate","useStyles","makeStyles","root","defaultRateText","cursor","color","isDefaultRates","classes","checked","onChange","onClick","typenum","bldgtype","area","areaRef","buildingtypes","A","B_norm","B_health","E","F","H","I1","I2","I3","I4","M","R1","R2","S","U","target","bldgtypeid","getAttribute","types","keys","map","key","dataremove","toremove","href","rel","style","marginLeft","paddingTop","id","Fragment","nextid","length","Sidebar","formatInt","n","isFinite","format","BarChart","container","useEffect","createBarChart","window","addEventListener","handleResize","removeEventListener","ignoretransition","params","node","barprops","total_cost","fine_2024","fine_2030","fine_2035","datatostack","period","utility","fine","util_and_fine","colors","stack","xmax","forEach","d","s","max","divdims","parentElement","getBoundingClientRect","duration","width","height","margins","plotwidth","plotheight","barwidth","svg","select","selectAll","join","attr","yScale","scaleBand","domain","rangeRound","xScale","scaleLinear","range","yAxis","axisBottom","scale","ticks","axisLeft","tickSize","tickSizeOuter","tooltipdiv","i","replace","on","transition","html","event","pageX","pageY","this","rgb","darker","call","text","legend","legenddims","legendwidth","nodes","AnnualCostSummaryContainer","summary","CarbonBar","carbondata","total_carbon","co2limit_2024","co2limit_2030","co2limit_2035","barthickness","barmargins","t","Math","b","r","l","threshmargins","threshspacing","linedata","thresh","barg","xAxis","xaxisg","yaxisg","threshcontainer","each","g","textwidths","push","getBBox","maxwidth","selector","el","width_2024","width_2030","width_2035","rectwidth","remove","imap","0","1","2","CarbonLimitContainer","normalizeRects","rectswidth","querySelectorAll","setAttribute","total_area","carbon_norm","DonutChart","createDonutChart","donutprops","tag","marginbottom","piewidth","pieheight","margin","radius","min","colorlookups","Electricity","Gas","Steam","unitlookup","cost","val","val_norm","energy","carbon","piefunc","pie","sort","arcfunc","arc","innerRadius","outerRadius","total_abs","total_norm","path","nesteddata","nest","entries","reverse","data0","data1","values","arcTween","interpolate","_current","attrTween","enter","append","narc","m","k","j","findPreceding","obj","startAngle","endAngle","findFollowing","findNeighborArc","_previous","exit","index","interpolateObject","DonutLegend","legendprops","createLegend","widthlookups","legendobj","textwidth","rects","nextrectposition","currentposition","nexttextposition","computedwidth","BuildingMetricContainer","kbtu","kbtu_sf","cost_sf","carbon_sf","costdata","elec","gas","steam","fuel_two","fuel_four","energydata","compiled","isSmallScreen","ui","visibility","Modal","active","children","hideCallback","hideModal","handleKeyDown","handleClick","classList","contains","LL84BuildingTypeLookup","Office","Hotel","Other","Museum","Laboratory","Parking","Library","Courthouse","Zoo","Restaurant","buildingTypeAbbreviations","translateBuildingType","ll84type","ll97_type_long","ll97_type_short","ll84","ll97_long","ll97_short","LoadBldgResultsTable","loadTableData","handleLoad","loadInputResponse","isLoadedError","filteredTableData","filter","every","undefined","row","loadInputValue","loadBldgModalActive","isDemoMode","isLoadMode","inputref","focus","formatted","res","Name","property_name","BBL","nyc_borough_block_and_lot","BIN","nyc_building_identification","largest_property_use_type","_2nd_largest_property_use","_3rd_largest_property_use","callback","query","toString","xmlhttp","XMLHttpRequest","open","onreadystatechange","parsed","JSON","parse","f","console","log","send","handleResponse","bldginfo","formatted_bldg","bldg","roundNum","round","steam_kbtu","gas_kbtu","fuel_two_kbtu","fuel_four_kbtu","bldg_type_one","bldg_type_one_area","bldg_type_two","bldg_type_two_area","bldg_type_three","bldg_type_three_area","3","parseResponse","loadConfirmDialogActive","loadInputSelection","loadedBuildingTypes","hideDialog","keyNameLookup","property_id","largest_property_use_type_1","_2nd_largest_property_use_1","_3rd_largest_property_use_1","fuel_oil_2_use_kbtu","fuel_oil_4_use_kbtu","district_steam_use_kbtu","natural_gas_use_kbtu","electricity_use_grid_purchase","LoadMarkup","keyName","typemap","type1","type2","type3","type1_ll84","type2_ll84","type3_ll84","type1_ll97","type2_ll97","type3_ll97","ll97","getConvertedTypes","TypeMapMarkup","ll97type","utilityRateModalActive","Footer","saveAs","blob","fileName","elem","document","createElement","download","body","documentElement","appendChild","click","dispatchEvent","MouseEvent","view","bubbles","cancelable","URL","revokeObjectURL","data-html2canvas-ignore","getElementsByTagName","htmlWidth","clientWidth","bodyWidth","getElementById","newWidth","scrollWidth","html2canvas","then","canvas","toDataURL","image","backgroundColor","padding","fontFamily","fontWeight","borderRadius","border","innerHeight","innerWidth","allowtaint","foreignobjectrendering","Boolean","location","hostname","match","initialState","infoModalActive","compileBuilding","co2limitsbybuildingtype","limit_2024","limit_2030","limit_2035","elec_kbtu","elec_carbon","gas_carbon","steam_carbon","fuel_two_carbon","fuel_four_carbon","elec_cost","gas_cost","steam_cost","fuel_two_cost","fuel_four_cost","elec_kbtu_norm","gas_kbtu_norm","steam_kbtu_norm","fuel_two_kbtu_norm","fuel_four_kbtu_norm","elec_carbon_norm","gas_carbon_norm","steam_carbon_norm","fuel_two_carbon_norm","fuel_four_carbon_norm","elec_cost_norm","gas_cost_norm","steam_cost_norm","fuel_two_cost_norm","fuel_four_cost_norm","native","rates","loadedResponse","rootReducer","combineReducers","action","tempinputs","tempbuilding","store","configureStore","reducer","middleware","thunk","o","NodeList","prototype","thisArg","Array","T","TypeError","O","len","arguments","kValue","mappedValue","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.837ebbb1.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/CircularStd-Black.7f42d848.otf\";","// ui actions\nexport function setDimensions(dims) {\n  return {\n    type: \"SET_DIMENSIONS\",\n    payload: dims,\n  };\n}\n\nexport function setIsDemoMode(bool) {\n  return {\n    type: \"SET_IS_DEMO_MODE\",\n    payload: bool,\n  };\n}\n\nexport function setIsLoadMode(bool) {\n  return {\n    type: \"SET_IS_LOAD_MODE\",\n    payload: bool,\n  };\n}\n\nexport function setLoadBldgModalActive(bool) {\n  return {\n    type: \"SET_LOAD_MODAL_ACTIVE\",\n    payload: bool,\n  };\n}\n\nexport function setUtilityRateModalActive(bool) {\n  return {\n    type: \"SET_UTILITY_RATE_MODAL_ACTIVE\",\n    payload: bool,\n  };\n}\n\nexport function setLoadConfirmDialogActive(bool) {\n  return {\n    type: \"SET_LOAD_CONFIRM_DIALOG_ACTIVE\",\n    payload: bool,\n  };\n}\n\nexport function setInfoModalActive(bool) {\n  return {\n    type: \"SET_INFO_MODAL_ACTIVE\",\n    payload: bool,\n  };\n}\n\nexport function setBuilding(inputs) {\n  return {\n    type: \"SET_BUILDING\",\n    payload: inputs,\n  };\n}\n\nexport function setDefaultBuilding() {\n  return {\n    type: \"SET_DEFAULT_BUILDING\",\n  };\n}\nexport function setDemoBuilding() {\n  return {\n    type: \"SET_DEMO_BUILDING\",\n  };\n}\nexport function setIsSmallScreen(bool) {\n  return {\n    type: \"SET_IS_SMALL_SCREEN\",\n    payload: bool,\n  };\n}\n// LOAD INPUT FUNCTIONS\n\nexport function setLoadTableData(data) {\n  return {\n    type: \"SET_LOAD_TABLE_DATA\",\n    payload: data,\n  };\n}\n\nexport function setLoadInputValue(value) {\n  return {\n    type: \"SET_LOAD_INPUT_VALUE\",\n    payload: value,\n  };\n}\n\nexport function setLoadInputResponse(response) {\n  return {\n    type: \"SET_LOAD_INPUT_RESPONSE\",\n    payload: response,\n  };\n}\n\nexport function setLoadInputSelection(response) {\n  return {\n    type: \"SET_LOAD_INPUT_SELECTION\",\n    payload: response,\n  };\n}\n\nexport function setIsLoadedError(response) {\n  return {\n    type: \"SET_IS_LOADED_ERROR\",\n    payload: response,\n  };\n}\n\n// DEFAULT RATES\n\nexport function setIsDefaultRates(bool) {\n  return {\n    type: \"SET_IS_DEFAULT_RATES\",\n    payload: bool,\n  };\n}\n\nexport function useDefaultRates() {\n  return {\n    type: \"USE_DEFAULT_RATES\",\n  };\n}\n\nexport function useNullRates() {\n  return {\n    type: \"USE_NULL_RATES\",\n  };\n}\n","import { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport * as Actions from '../actions';\n\nconst mapDispatchToProps = dispatch => {\n\treturn {\n\t\tactions: bindActionCreators(Actions, dispatch),\n\t};\n};\n\nconst mapStateToProps = state => {\n\treturn {\n\t\tdata: { ...state },\n\t};\n};\n\nconst conn = (mapState = mapStateToProps, mapDispatch = mapDispatchToProps) => {\n\treturn connect(\n\t\tmapState,\n\t\tmapDispatch\n\t);\n};\n\nexport { conn };\n","import React, { useRef } from 'react';\nimport NumberFormat from 'react-number-format';\nimport { conn } from '../store/connect';\n\nconst UtilityInput = (props) => {\n\tlet { title, cons_title, cost_title, utiltag, inputs, vals } = props;\n\tconst consumptionRef = useRef(null);\n\tconst rateRef = useRef(null);\n\n\tconst consumptionCallback = (e) => {\n\t\tlet { floatValue } = e;\n\t\tlet fuel = consumptionRef.current.props.datatag;\n\t\tlet state = Object.assign({}, inputs);\n\t\tstate.utilities[fuel].cons = floatValue ? floatValue : 0;\n\t\tprops.actions.setBuilding(state);\n\t};\n\n\tconst rateCallback = (e) => {\n\t\tlet { floatValue } = e;\n\t\tlet fuel = rateRef.current.props.datatag;\n\t\tlet state = Object.assign({}, inputs);\n\t\tstate.utilities[fuel].rate = floatValue ? floatValue : 0;\n\t\tprops.actions.setBuilding(state);\n\t};\n\n\treturn (\n\t\t<div className={`${utiltag}-container utility-input-container`}>\n\t\t\t<div className=\"consumption-container\">\n\t\t\t\t<div className=\"head-text-4\">{`${title} - ${cons_title}`}</div>\n\t\t\t\t<NumberFormat\n\t\t\t\t\tref={consumptionRef}\n\t\t\t\t\tdisplayType=\"input\"\n\t\t\t\t\tdatatag={utiltag}\n\t\t\t\t\tonValueChange={consumptionCallback}\n\t\t\t\t\tthousandSeparator={true}\n\t\t\t\t\tvalue={vals.cons}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"cost-container\">\n\t\t\t\t<div className=\"head-text-4\">{cost_title}</div>\n\t\t\t\t<NumberFormat\n\t\t\t\t\tref={rateRef}\n\t\t\t\t\tdisplayType=\"input\"\n\t\t\t\t\tdatatag={utiltag}\n\t\t\t\t\tonValueChange={rateCallback}\n\t\t\t\t\tvalue={vals.rate}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nconst mapStateToProps = (state, ownProps) => {\n\tconst { utiltag } = ownProps;\n\treturn {\n\t\tvals: state.building.inputs.utilities[utiltag],\n\t\tinputs: state.building.inputs,\n\t};\n};\n\nexport default conn(mapStateToProps)(UtilityInput);\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { conn } from \"../store/connect\";\nimport UtilityInput from \"./utilityinput.js\";\n\nconst useStyles = makeStyles({\n  root: {},\n  defaultRateText: {\n    cursor: \"pointer\",\n    color: \"blue\",\n  },\n});\n\nconst UtilityInputContainer = (props) => {\n  const { isDefaultRates } = props;\n  const classes = useStyles();\n\n  const setDefaultRates = () => {\n    if (isDefaultRates) {\n      props.actions.setIsDefaultRates(false);\n      props.actions.useNullRates();\n    } else {\n      props.actions.setIsDefaultRates(true);\n      props.actions.useDefaultRates();\n    }\n  };\n\n  const toggleDefaultRateInfo = () => {\n    props.actions.setUtilityRateModalActive(true);\n  };\n\n  return (\n    <>\n      <div className=\"default-rate-checkbox head-text-4\">\n        <input\n          type=\"checkbox\"\n          checked={isDefaultRates}\n          onChange={setDefaultRates}\n        />\n        <div className=\"head-text-4\">\n          <span>Use Default Rates</span>\n\n          <span\n            onClick={toggleDefaultRateInfo}\n            className={classes.defaultRateText}\n          >\n            {\" \"}\n            <u>?</u>\n          </span>\n        </div>\n      </div>\n      <div className=\"utility-input-main-container\">\n        <UtilityInput\n          title=\"Electricity\"\n          cons_title=\"kWh\"\n          utiltag=\"elec\"\n          cost_title=\"$/kWh\"\n        />\n        <UtilityInput\n          title=\"Natural Gas\"\n          cons_title=\"therms\"\n          utiltag=\"gas\"\n          cost_title=\"$/therm\"\n        />\n        <UtilityInput\n          title=\"Steam\"\n          cons_title=\"mLbs\"\n          utiltag=\"steam\"\n          cost_title=\"$/mLb\"\n        />\n        <UtilityInput\n          title=\"Fuel Oil 2\"\n          cons_title=\"gal\"\n          utiltag=\"fuel_two\"\n          cost_title=\"$/gal\"\n        />\n        <UtilityInput\n          title=\"Fuel Oil 4\"\n          cons_title=\"gal\"\n          utiltag=\"fuel_four\"\n          cost_title=\"$/gal\"\n        />\n      </div>\n    </>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    inputs: state.building.inputs,\n    isDefaultRates: state.building.isDefaultRates,\n  };\n};\n\nexport default conn(mapStateToProps)(UtilityInputContainer);\n","import React, { useRef } from 'react';\nimport NumberFormat from 'react-number-format';\n\nimport { conn } from '../store/connect';\n\nconst BuildingTypeInput = (props) => {\n\tconst { typenum, bldgtype, area } = props;\n\tconst { inputs } = props;\n\n\tconst areaRef = useRef(null);\n\n\tconst handleBuildingTypeChange = (e) => {\n\t\tlet state = Object.assign({}, inputs);\n\t\tlet value = e.target.value;\n\t\tlet bldgtypeid = e.target.getAttribute('datatag');\n\t\tstate.types[bldgtypeid].type = value;\n\t\tprops.actions.setBuilding(state);\n\t};\n\n\tconst handleAreaChange = (e) => {\n\t\tlet { floatValue } = e;\n\t\tlet state = Object.assign({}, inputs);\n\t\tlet bldgtypeid = areaRef.current.props.datatag;\n\t\tstate.types[bldgtypeid].area = floatValue ? floatValue : 0;\n\t\tprops.actions.setBuilding(state);\n\t};\n\n\tconst removeCallback = (e) => {\n\t\tlet toremove = e.target.getAttribute('dataremove');\n\t\tlet state = Object.assign({}, inputs);\n\t\tdelete state.types[toremove];\n\t\tprops.actions.setBuilding(state);\n\t};\n\n\tlet buildingtypes = {\n\t\tA: 'A (Assembly)',\n\t\tB_norm: 'B (Business)',\n\t\tB_health: 'B (Healthcare)',\n\t\tE: 'E (Educational)',\n\t\tF: 'F (Factory/Industrial)',\n\t\tH: 'H (High Hazard)',\n\t\tI1: 'I-1 (Institutional)',\n\t\tI2: 'I-2 (Institutional)',\n\t\tI3: 'I-3 (Institutional)',\n\t\tI4: 'I-4 (Institutional)',\n\t\tM: 'M (Mercantile)',\n\t\tR1: 'R-1 (Residential)',\n\t\tR2: 'R-2 (Residential)',\n\t\tS: 'S (Storage)',\n\t\tU: 'U (Utility/Misc)',\n\t};\n\n\treturn (\n\t\t<div className=\"bldg-input-container\">\n\t\t\t<div className=\"type-controls-container\">\n\t\t\t\t<div className=\"type-label\">{`${typenum}`}</div>\n\n\t\t\t\t<div className=\"type-container\">\n\t\t\t\t\t<select\n\t\t\t\t\t\tclassName=\"bldg-type-select\"\n\t\t\t\t\t\tdatatag={typenum}\n\t\t\t\t\t\tonChange={handleBuildingTypeChange}\n\t\t\t\t\t\tvalue={bldgtype}\n\t\t\t\t\t>\n\t\t\t\t\t\t{Object.keys(buildingtypes).map((type) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<option value={type} key={type + '-option'}>\n\t\t\t\t\t\t\t\t\t{buildingtypes[type]}\n\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"area-container\">\n\t\t\t\t\t<NumberFormat\n\t\t\t\t\t\tref={areaRef}\n\t\t\t\t\t\tdatatag={typenum}\n\t\t\t\t\t\tonValueChange={handleAreaChange}\n\t\t\t\t\t\tthousandSeparator={true}\n\t\t\t\t\t\tvalue={area}\n\t\t\t\t\t/>\n\t\t\t\t\t<button className={`type-remove-btn`} dataremove={typenum} onClick={removeCallback}>\n\t\t\t\t\t\tX\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"bldg-input-border\"></div>\n\t\t</div>\n\t);\n};\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tinputs: state.building.inputs,\n\t};\n};\n\nexport default conn(mapStateToProps)(BuildingTypeInput);\n","import React from 'react';\nimport { conn } from '../store/connect';\nimport BuildingTypeInput from './buildingtypeinput.js';\n\nconst BuildingTypeContainer = (props) => {\n\tconst { inputs } = props;\n\n\tconst addBuildingType = () => {\n\t\tlet state = Object.assign({}, inputs);\n\t\tlet numtypes = Object.keys(state.types).length;\n\t\tlet nextid = numtypes + 1;\n\n\t\twhile (nextid in state.types) {\n\t\t\tnextid++;\n\t\t}\n\n\t\tstate.types[nextid] = {\n\t\t\ttype: 'A',\n\t\t\tarea: 0,\n\t\t\tid: nextid,\n\t\t};\n\t\tprops.actions.setBuilding(state);\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"input-header-type head-text-4\">\n\t\t\t\tBuilding Type\n\t\t\t\t<a\n\t\t\t\t\thref=\"https://up.codes/viewer/new_york_city/nyc-building-code-2014/chapter/3/use-and-occupancy-classification#3\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t>\n\t\t\t\t\t<span style={{ marginLeft: '5px', paddingTop: '5px' }}>?</span>\n\t\t\t\t</a>\n\t\t\t</div>\n\t\t\t<div className=\"input-header-area head-text-4\">Area (SF)</div>\n\t\t\t{Object.keys(inputs.types).map((id) => {\n\t\t\t\tlet { type, area } = inputs.types[id];\n\t\t\t\treturn (\n\t\t\t\t\t<React.Fragment key={id}>\n\t\t\t\t\t\t<BuildingTypeInput bldgtype={type} area={area} typenum={id} />\n\t\t\t\t\t</React.Fragment>\n\t\t\t\t);\n\t\t\t})}\n\n\t\t\t<div className=\"add-building-type\">\n\t\t\t\t<button onClick={addBuildingType}>+</button>\n\t\t\t\t<div>Add Building Type</div>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\tinputs: state.building.inputs,\n\t};\n};\n\nexport default conn(mapStateToProps)(BuildingTypeContainer);\n","import React from 'react';\n\nimport UtilityInputContainer from './utilityinputcontainer.js';\nimport BuildingTypeContainer from './buildingtypecontainer.js';\n\nconst Sidebar = props => {\n\treturn (\n\t\t<div className=\"sidebar\">\n\t\t\t<div className=\"sidebar-main-container\">\n\t\t\t\t<div className=\"head-text-2\">Building Inputs</div>\n\t\t\t\t<BuildingTypeContainer />\n\t\t\t\t<div className=\"head-text-2\">Utility Inputs</div>\n\t\t\t\t<UtilityInputContainer />\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Sidebar;\n","import { format } from 'd3';\n\nfunction formatInt(n) {\n\n    if (!isFinite(+n)) {\n        return 0\n    }\n\n    if (n == 0) {\n        return 0;\n    }\n\n    if (n < 0.001) {\n        return format(\".1e\")(+n)\n    }\n\n    if (n < 1) {\n        return format(\".2n\")(+n)\n    }\n\n    if (n < 10) {\n        format(\".2n\")(+n)\n    }\n\n    if (n < 1000) {\n        return format(\",.0f\")(+n)\n    }\n\n    if (n >= 1000000) {\n        return format(\".3s\")(+n)\n    }\n\n    else {\n        return format(\",.0f\")(+n)\n    }\n}\n\n\nexport {\n    formatInt\n}","import React, { useEffect, useRef } from 'react';\n\nimport { stack, max, scaleLinear, axisLeft, axisBottom, select, scaleBand, selectAll, event, rgb } from 'd3';\nimport { formatInt } from '../numformat.js';\n\nconst BarChart = props => {\n\tconst container = useRef(null);\n\n\tuseEffect(() => {\n\t\tcreateBarChart({});\n\t\twindow.addEventListener('resize', handleResize);\n\t\treturn () => window.removeEventListener('resize', handleResize);\n\t});\n\n\tconst handleResize = () => {\n\t\tcreateBarChart({ ignoretransition: true });\n\t};\n\n\tconst createBarChart = params => {\n\t\t// parse data\n\t\tconst node = container.current;\n\n\t\tlet { total_cost, fine_2024, fine_2030, fine_2035 } = props.barprops;\n\n\t\tlet datatostack = [\n\t\t\t{ period: '2024-2029', utility: total_cost, fine: fine_2024, util_and_fine: fine_2024 + total_cost },\n\t\t\t{ period: '2030-2034', utility: total_cost, fine: fine_2030, util_and_fine: fine_2030 + total_cost },\n\t\t\t{ period: '2035+', utility: total_cost, fine: fine_2035, util_and_fine: fine_2035 + total_cost },\n\t\t];\n\n\t\tlet colors = { fine: '#333333', utility: '#BAD636' };\n\t\tlet keys = ['utility', 'fine'];\n\n\t\tlet data = stack().keys(keys)(datatostack);\n\t\tlet xmax = 0;\n\t\tdata.forEach(d => {\n\t\t\td.forEach(s => {\n\t\t\t\txmax = max([xmax, s[0], s[1]]);\n\t\t\t});\n\t\t});\n\n\t\t// parent container sizing\n\t\tlet divheightoffset = 0;\n\t\tlet divwidthoffset = 28;\n\t\tlet divdims = node.parentElement.getBoundingClientRect();\n\n\t\tlet duration = 500;\n\n\t\tif (params.ignoretransition) {\n\t\t\tduration = 0;\n\t\t}\n\t\tlet width = divdims.width - divwidthoffset;\n\t\tlet height = divdims.height - divheightoffset;\n\n\t\tlet legendtoppad = 30;\n\t\tlet margins = {\n\t\t\tt: 20,\n\t\t\tb: 80,\n\t\t\tr: 80,\n\t\t\tl: 75,\n\t\t};\n\n\t\tlet plotwidth = width - margins.l - margins.r;\n\t\tlet plotheight = height - margins.t - margins.b;\n\t\tlet barwidth = plotheight / 6;\n\n\t\tlet svg = select(node)\n\t\t\t.selectAll('svg')\n\t\t\t.data([0])\n\t\t\t.join('svg')\n\t\t\t.attr('width', width)\n\t\t\t.attr('height', height);\n\n\t\tlet yScale = scaleBand()\n\t\t\t.domain(['2024-2029', '2030-2034', '2035+'])\n\t\t\t.rangeRound([0, plotheight]);\n\n\t\tlet xScale = scaleLinear()\n\t\t\t.domain([xmax, 0])\n\t\t\t.range([plotwidth, 0]);\n\n\t\tlet xAxis = axisBottom()\n\t\t\t.scale(xScale)\n\t\t\t.ticks(5);\n\n\t\tlet yAxis = axisLeft()\n\t\t\t.scale(yScale)\n\t\t\t.ticks(3)\n\t\t\t.tickSize(0)\n\t\t\t.tickSizeOuter(0);\n\n\t\tlet tooltipdiv = select(node)\n\t\t\t.selectAll('.tooltip.tooltip-cost')\n\t\t\t.data([0])\n\t\t\t.join('div')\n\t\t\t.attr('class', 'tooltip tooltip-cost')\n\t\t\t.style('opacity', 0);\n\n\t\tlet groups = svg\n\t\t\t.selectAll('.bar')\n\t\t\t.data(data, d => d.key)\n\t\t\t.join('g')\n\t\t\t.attr('class', d => `bar bar-${d.key}`)\n\t\t\t.attr(`transform`, `translate(${margins.l}, ${margins.t})`)\n\t\t\t.style('fill', (d, i) => {\n\t\t\t\treturn colors[d.key];\n\t\t\t});\n\t\tlet rects = groups\n\t\t\t.selectAll('rect')\n\t\t\t.data(d => {\n\t\t\t\treturn d;\n\t\t\t})\n\t\t\t.join('rect')\n\t\t\t.attr('class', d => `rect-${d.data.period.replace('+', '')}`)\n\t\t\t.attr('y', (d, i) => {\n\t\t\t\treturn yScale(d.data.period) + barwidth / 2;\n\t\t\t})\n\t\t\t.on('mouseover', function(d) {\n\t\t\t\ttooltipdiv\n\t\t\t\t\t.transition()\n\t\t\t\t\t.duration(200)\n\t\t\t\t\t.style('opacity', 0.9);\n\n\t\t\t\tif (d.data.period == '2035+') {\n\t\t\t\t\ttooltipdiv.html(`\n                    <div class = 'tip-header'><u>${d.data.period}</u></div>\n                    <div>Utility Cost: $${formatInt(d.data.utility) + '/yr'}</div>\n                    <div>Carbon Penalty: $${formatInt(d.data.fine) + '/yr'}</div>\n                    <div>Total Cost: $${formatInt(d.data.util_and_fine) + '/yr'}</div> \n                    <p class='fine-print'>\n                        <i>\n                            *Penalties for 2035 and up<br/>\n                            are highly variable and will <br/>\n                            likely change. Value shown <br/>\n                            for this period is only an <br/>\n                            estimate.\n                        </i>\n                    </p>\n                    `);\n\t\t\t\t} else {\n\t\t\t\t\ttooltipdiv.html(`\n                    <div class = 'tip-header'><u>${d.data.period}</u></div>\n                    <div>Utility Cost: $${formatInt(d.data.utility) + '/yr'}</div>\n                    <div>Carbon Penalty: $${formatInt(d.data.fine) + '/yr'}</div>\n                    <div>Total Cost: $${formatInt(d.data.util_and_fine) + '/yr'}</div> \n                    `);\n\t\t\t\t}\n\t\t\t\ttooltipdiv\n\t\t\t\t\t.style('left', () => {\n\t\t\t\t\t\treturn event.pageX - 100;\n\t\t\t\t\t})\n\t\t\t\t\t.style('top', event.pageY - 300 + 'px');\n\t\t\t\tselect(this)\n\t\t\t\t\t.transition()\n\t\t\t\t\t.duration(200)\n\t\t\t\t\t.style('fill', (d, i) => {\n\t\t\t\t\t\treturn rgb(select(this).style('fill')).darker();\n\t\t\t\t\t});\n\t\t\t})\n\t\t\t.on('mouseout', function(d) {\n\t\t\t\ttooltipdiv\n\t\t\t\t\t.transition()\n\t\t\t\t\t.duration(500)\n\t\t\t\t\t.style('opacity', 0);\n\t\t\t\tselect(this)\n\t\t\t\t\t.transition()\n\t\t\t\t\t.duration(200)\n\t\t\t\t\t.style('fill', function(d, i) {\n\t\t\t\t\t\treturn colors[d.key];\n\t\t\t\t\t});\n\t\t\t})\n\t\t\t.transition()\n\t\t\t.duration(duration)\n\t\t\t.attr('x', d => {\n\t\t\t\treturn xScale(d[0]);\n\t\t\t})\n\t\t\t.attr('width', d => {\n\t\t\t\treturn xScale(d[1]) - xScale(d[0]);\n\t\t\t})\n\t\t\t.attr('height', barwidth);\n\n\t\tsvg.selectAll('.x-axis')\n\t\t\t.data([0])\n\t\t\t.join('g')\n\t\t\t.attr('class', 'x-axis')\n\t\t\t.attr('transform', `translate(${margins.l}, ${plotheight + margins.t})`);\n\n\t\tsvg.selectAll('.y-axis')\n\t\t\t.data([0])\n\t\t\t.join('g')\n\t\t\t.attr('class', 'y-axis')\n\t\t\t.attr('transform', `translate(${margins.l}, ${margins.t + barwidth / 7})`);\n\n\t\tsvg.select('.y-axis').call(yAxis);\n\n\t\tsvg.selectAll('.y-axis')\n\t\t\t.selectAll('text')\n\t\t\t.attr('x', -6);\n\n\t\tlet labels = svg\n\t\t\t.selectAll('.label')\n\t\t\t.data(datatostack, d => d.period)\n\t\t\t.join('text')\n\t\t\t.attr(`transform`, `translate(${margins.l}, ${margins.t})`)\n\t\t\t.attr('class', 'label')\n\t\t\t.attr('text-anchor', 'start')\n\t\t\t.transition()\n\t\t\t.duration(duration)\n\t\t\t.attr('x', d => {\n\t\t\t\treturn xScale(d.util_and_fine) + 5;\n\t\t\t})\n\t\t\t.attr('y', d => {\n\t\t\t\treturn yScale(d.period) + barwidth + 4;\n\t\t\t})\n\t\t\t.text(d => {\n\t\t\t\tif (d.util_and_fine == 0) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t\treturn '$' + formatInt(d.util_and_fine) + '/yr';\n\t\t\t});\n\n\t\t// Draw legend\n\t\tlet legend = svg\n\t\t\t.selectAll('.legend')\n\t\t\t.data([0])\n\t\t\t.join('g')\n\t\t\t.attr('class', 'legend')\n\t\t\t.join('g')\n\t\t\t.attr('class', 'legend')\n\t\t\t.attr('transform', `translate(${margins.l}, ${margins.t + plotheight + legendtoppad})`);\n\n\t\tlegend\n\t\t\t.selectAll('rect')\n\t\t\t.data(Object.keys(colors))\n\t\t\t.join('rect')\n\t\t\t.attr('x', (d, i) => {\n\t\t\t\treturn i * 180 + 5;\n\t\t\t})\n\t\t\t.attr('y', 0)\n\t\t\t.attr('width', 15)\n\t\t\t.attr('height', 15)\n\t\t\t.style('fill', (d, i) => {\n\t\t\t\treturn colors[d];\n\t\t\t})\n\t\t\t.style('opacity', 1);\n\n\t\tlegend\n\t\t\t.selectAll('text')\n\t\t\t.data(Object.keys(colors))\n\t\t\t.join('text')\n\t\t\t.attr('x', (d, i) => {\n\t\t\t\treturn i * 180 + 30;\n\t\t\t})\n\t\t\t.attr('y', 12)\n\t\t\t.attr('font-size', 14)\n\t\t\t.attr('class', 'legend-text')\n\t\t\t.style('text-anchor', 'start')\n\t\t\t.style('opacity', 1)\n\t\t\t.text((d, i) => {\n\t\t\t\tswitch (d) {\n\t\t\t\t\tcase 'utility':\n\t\t\t\t\t\treturn 'Utility Cost ($)';\n\t\t\t\t\tcase 'fine':\n\t\t\t\t\t\treturn 'Estimated Penalty ($)';\n\t\t\t\t}\n\t\t\t});\n\n\t\t// lighten 2035 fine rects\n\t\tsvg.selectAll('.rect-2035').style('opacity', (d, i) => {\n\t\t\tif (i == 1 || i == 0) {\n\t\t\t\treturn 0.35;\n\t\t\t}\n\t\t});\n\n\t\t// reposition legend\n\n\t\tlet legenddims = legend.node().getBoundingClientRect();\n\t\tlet legendwidth = legenddims.width;\n\t\tlet legendheight = legenddims.height;\n\n\t\tlegend.attr(\n\t\t\t'transform',\n\t\t\t`translate(${margins.l + (plotwidth - legendwidth) / 2}, ${margins.t + plotheight + legendtoppad})`\n\t\t);\n\n\t\tif (total_cost == 0) {\n\t\t\tselect(legend.selectAll('text').nodes()[1]).style('opacity', 0.5);\n\t\t\tselect(legend.selectAll('rect').nodes()[1]).style('opacity', 0.5);\n\t\t}\n\t\tif (fine_2024 == 0) {\n\t\t\tselect(legend.selectAll('text').nodes()[0]).style('opacity', 0.5);\n\t\t\tselect(legend.selectAll('rect').nodes()[0]).style('opacity', 0.5);\n\t\t}\n\t};\n\n\treturn <div className=\"bar-container\" ref={container}></div>;\n};\n\nexport { BarChart };\n","import React from 'react';\n\nimport { BarChart } from './charts/barchart.js';\n\nconst AnnualCostSummaryContainer = props => {\n\tlet { total_cost, fine_2024, fine_2030, fine_2035 } = props.building.summary;\n\n\tlet barprops = {\n\t\ttotal_cost: total_cost,\n\t\tfine_2024: fine_2024,\n\t\tfine_2030: fine_2030,\n\t\tfine_2035: fine_2035,\n\t};\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<div className=\"container-header\">Estimated Annual Cost Summary</div>\n\t\t\t<BarChart barprops={barprops}></BarChart>\n\t\t</React.Fragment>\n\t);\n};\n\nexport { AnnualCostSummaryContainer };\n","import React, { useEffect, useRef } from 'react';\n\nimport { max, scaleLinear, select, selectAll, event, rgb, axisLeft, axisBottom } from 'd3';\nimport { formatInt } from '../numformat.js';\n\nconst CarbonBar = props => {\n\tconst container = useRef(null);\n\n\tuseEffect(() => {\n\t\tcreateBarChart({});\n\t\twindow.addEventListener('resize', handleResize);\n\t\treturn () => window.removeEventListener('resize', handleResize);\n\t});\n\n\tconst handleResize = () => {\n\t\tcreateBarChart({ ignoretransition: true });\n\t};\n\n\tconst createBarChart = params => {\n\t\tconst node = container.current;\n\t\t// parse data\n\t\tlet {\n\t\t\ttotal_carbon,\n\t\t\tco2limit_2024,\n\t\t\tco2limit_2030,\n\t\t\tco2limit_2035,\n\t\t\tfine_2024,\n\t\t\tfine_2030,\n\t\t\tfine_2035,\n\t\t} = props.carbondata;\n\n\t\tlet divheightoffset = 0;\n\t\tlet divwidthoffset = 28;\n\t\tlet divdims = node.getBoundingClientRect();\n\n\t\tlet duration = 500;\n\t\tif (params.ignoretransition) {\n\t\t\tduration = 0;\n\t\t}\n\n\t\tlet width = divdims.width - divwidthoffset;\n\t\tlet height = divdims.height - divheightoffset;\n\n\t\tlet barthickness = height / 6 / 1.5;\n\n\t\tlet barmargins = {\n\t\t\tt: Math.max(height * 0.4, 100),\n\t\t\tb: 35 + height * 0.025,\n\t\t\tr: 100,\n\t\t\tl: 20,\n\t\t};\n\n\t\tlet threshmargins = {\n\t\t\tt: 5,\n\t\t\tl: 20,\n\t\t\tr: 20,\n\t\t};\n\n\t\tlet plotwidth = width - barmargins.l - barmargins.r;\n\t\tlet plotheight = height - barmargins.t - barmargins.b;\n\n\t\tlet threshwidth = width - threshmargins.l - threshmargins.r;\n\n\t\tlet threshspacing = threshwidth / 3;\n\n\t\tlet linedata = [\n\t\t\t{\n\t\t\t\tthresh: co2limit_2035,\n\t\t\t\tfine: fine_2035,\n\t\t\t\tkey: '2035+',\n\t\t\t},\n\t\t\t{\n\t\t\t\tthresh: co2limit_2030,\n\t\t\t\tfine: fine_2030,\n\t\t\t\tkey: '2030-2034',\n\t\t\t},\n\t\t\t{\n\t\t\t\tthresh: co2limit_2024,\n\t\t\t\tfine: fine_2024,\n\t\t\t\tkey: '2024-2029',\n\t\t\t},\n\t\t];\n\n\t\tlet containercolor = '#595954';\n\t\tlet barcolor = '#C4C4C4';\n\t\tlet barcolor_nofine = '#999999';\n\t\tlet containerheight = 60;\n\t\tlet containerwidth = 270;\n\n\t\tlet tooltipdiv = select(node)\n\t\t\t.selectAll('.tooltip.tooltip-carbon-bar')\n\t\t\t.data([0])\n\t\t\t.join('div')\n\t\t\t.attr('class', 'tooltip tooltip-carbon-bar')\n\t\t\t.style('opacity', 0);\n\n\t\tlet xScale = scaleLinear()\n\t\t\t.domain([0, max([co2limit_2024, total_carbon])])\n\t\t\t.range([0, plotwidth]);\n\n\t\tlet yScale = scaleLinear()\n\t\t\t.domain([1, 0])\n\t\t\t.range([-5, barthickness + 5]);\n\n\t\tlet svg = select(node)\n\t\t\t.selectAll('svg')\n\t\t\t.data([0])\n\t\t\t.join('svg')\n\t\t\t.attr('width', width)\n\t\t\t.attr('height', height);\n\n\t\tlet barg = svg\n\t\t\t.selectAll('g')\n\t\t\t.data([0])\n\t\t\t.join('g')\n\t\t\t.attr('class', 'bar-g')\n\t\t\t.attr('width', plotwidth)\n\t\t\t.attr('height', plotheight)\n\t\t\t.attr('transform', `translate(${barmargins.l}, ${barmargins.t})`);\n\n\t\tlet xAxis = axisBottom(xScale)\n\t\t\t.ticks(5)\n\t\t\t.tickSizeOuter(0);\n\t\tlet yAxis = axisLeft(yScale).tickSizeOuter(0);\n\n\t\tlet xaxisg = svg\n\t\t\t.selectAll('.x-axis')\n\t\t\t.data([0])\n\t\t\t.join('g')\n\t\t\t.attr('class', 'x-axis')\n\t\t\t.attr('transform', `translate(${barmargins.l}, ${barmargins.b + barthickness + barmargins.t})`);\n\n\t\tlet yaxisg = svg\n\t\t\t.selectAll('.y-axis')\n\t\t\t.data([0])\n\t\t\t.join('g')\n\t\t\t.attr('class', 'y-axis')\n\t\t\t.attr('transform', `translate(${barmargins.l}, ${barmargins.t + barthickness})`)\n\t\t\t.call(yAxis);\n\n\t\tsvg.selectAll('.axis-title')\n\t\t\t.data([0])\n\t\t\t.join('text')\n\t\t\t.attr('class', 'axis-title')\n\t\t\t.text(() => (total_carbon != 0 ? 'Tons CO2 per year' : ''))\n\t\t\t.attr('x', barmargins.l + plotwidth / 2)\n\t\t\t.attr('y', barmargins.b + barmargins.t + barthickness + 40 + height * 0.05);\n\n\t\t// create threshold containers\n\t\tlet threshcontainer = svg\n\t\t\t.selectAll('.thresh-main-container')\n\t\t\t.data([0])\n\t\t\t.join('g')\n\t\t\t.attr('class', 'thresh-container')\n\t\t\t.attr('transform', `translate(${threshmargins.l}, ${threshmargins.t})`);\n\n\t\tlet subcontainers = threshcontainer\n\t\t\t.selectAll('.sub-container')\n\t\t\t.data(linedata)\n\t\t\t.join('g')\n\t\t\t.attr('class', d => `sub-container ${d.fine == 0 ? 'no-fine' : 'fine'}`)\n\t\t\t.each(fineContainer);\n\n\t\tfunction fineContainer(d, i) {\n\t\t\tlet g = select(this)\n\t\t\t\t.selectAll('group')\n\t\t\t\t.data([0])\n\t\t\t\t.join('g')\n\t\t\t\t.attr('transform', `translate(${i * threshspacing},0)`);\n\n\t\t\tg.selectAll('.rect-container')\n\t\t\t\t.data([d])\n\t\t\t\t.join('rect')\n\t\t\t\t.attr('class', 'rect-container')\n\t\t\t\t.attr('width', containerwidth) // starting width only\n\t\t\t\t.attr('height', containerheight)\n\t\t\t\t.attr('rx', 8)\n\t\t\t\t.attr('fill', d => {\n\t\t\t\t\tif (d.fine == 0) {\n\t\t\t\t\t\treturn barcolor_nofine;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn containercolor;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\tg.selectAll('.year-text')\n\t\t\t\t.data([0])\n\t\t\t\t.join('text')\n\t\t\t\t.attr('class', 'carbon-summary-text top-text')\n\t\t\t\t.attr('x', 10)\n\t\t\t\t.attr('y', 20)\n\t\t\t\t.text(d.key);\n\n\t\t\tg.selectAll('.fine-text')\n\t\t\t\t.data([0])\n\t\t\t\t.join('text')\n\t\t\t\t.attr('class', 'carbon-summary-text fine-text')\n\t\t\t\t.attr('x', 10)\n\t\t\t\t.attr('y', 35)\n\t\t\t\t.text(`Threshold: ${formatInt(d.thresh)} tCO2e/yr`);\n\n\t\t\tg.selectAll('.thresh-text')\n\t\t\t\t.data([0])\n\t\t\t\t.join('text')\n\t\t\t\t.attr('class', 'carbon-summary-text thresh-text')\n\t\t\t\t.attr('x', 10)\n\t\t\t\t.attr('y', 50)\n\t\t\t\t.text(`Est. Penalty: $${formatInt(d.fine) + '/yr'}`);\n\n\t\t\tlet textwidths = [];\n\t\t\tg.selectAll('text')\n\t\t\t\t.nodes()\n\t\t\t\t.forEach(node => {\n\t\t\t\t\ttextwidths.push(node.getBBox().width);\n\t\t\t\t});\n\t\t\tlet maxwidth = max(textwidths);\n\t\t\tg.select('.rect-container').attr('width', () => maxwidth + 40);\n\t\t}\n\n\t\tlet bar = barg\n\t\t\t.selectAll('rect')\n\t\t\t.data([total_carbon])\n\t\t\t.join('rect')\n\t\t\t.on('mouseover', function(d) {\n\t\t\t\ttooltipdiv\n\t\t\t\t\t.transition()\n\t\t\t\t\t.duration(200)\n\t\t\t\t\t.style('opacity', 0.9);\n\n\t\t\t\ttooltipdiv\n\t\t\t\t\t.html(\n\t\t\t\t\t\t`\n                <div>${formatInt(total_carbon)} tCO2e/yr</div>\n                `\n\t\t\t\t\t)\n\n\t\t\t\t\t.style('left', () => {\n\t\t\t\t\t\treturn event.pageX - 100;\n\t\t\t\t\t})\n\t\t\t\t\t.style('top', event.pageY - 100 + 'px');\n\n\t\t\t\tselect(this)\n\t\t\t\t\t.transition()\n\t\t\t\t\t.duration(200)\n\t\t\t\t\t.attr('fill', function(d, i) {\n\t\t\t\t\t\treturn rgb(barcolor).darker();\n\t\t\t\t\t});\n\t\t\t})\n\t\t\t.on('mouseout', function(d) {\n\t\t\t\ttooltipdiv\n\t\t\t\t\t.transition()\n\t\t\t\t\t.duration(500)\n\t\t\t\t\t.style('opacity', 0);\n\n\t\t\t\tselect(this)\n\t\t\t\t\t.transition()\n\t\t\t\t\t.duration(200)\n\t\t\t\t\t.attr('fill', function(d, i) {\n\t\t\t\t\t\treturn barcolor;\n\t\t\t\t\t});\n\t\t\t})\n\t\t\t.transition()\n\t\t\t.duration(duration)\n\t\t\t.attr('y', barthickness)\n\t\t\t.attr('height', barthickness)\n\t\t\t.attr('fill', barcolor)\n\t\t\t.attr('x', 0)\n\t\t\t.attr('width', d => {\n\t\t\t\treturn xScale(total_carbon);\n\t\t\t});\n\n\t\tfunction getRectWidths(g, selector) {\n\t\t\treturn g\n\t\t\t\t.selectAll(selector)\n\t\t\t\t.nodes()\n\t\t\t\t.map(el => el.getAttribute('width'));\n\t\t}\n\n\t\tlet [width_2024, width_2030, width_2035] = getRectWidths(threshcontainer, '.rect-container');\n\t\tlinedata[0].rectwidth = width_2035;\n\t\tlinedata[1].rectwidth = width_2030;\n\t\tlinedata[2].rectwidth = width_2024;\n\n\t\t// updates for dimension changes\n\t\tif (height < 220) {\n\t\t\txaxisg.call(xAxis);\n\t\t\tsvg.selectAll('.axis-title').remove();\n\t\t} else {\n\t\t\txaxisg.call(xAxis);\n\t\t\ttry {\n\t\t\t\tsvg.selectAll('.tick')\n\t\t\t\t\t.nodes()[0]\n\t\t\t\t\t.remove();\n\t\t\t} catch {}\n\t\t}\n\t\t// polylines linked to rects\n\t\tlet imap = {\n\t\t\t0: 3,\n\t\t\t1: 2,\n\t\t\t2: 1,\n\t\t};\n\t\tlet polylines = barg\n\t\t\t.selectAll('polyline')\n\t\t\t.data(linedata, d => d.key)\n\t\t\t.join('polyline');\n\t\tpolylines\n\t\t\t.attr('stroke', 'black')\n\t\t\t.attr('stroke-width', '1px')\n\t\t\t.attr('fill', 'none')\n\t\t\t.transition()\n\t\t\t.duration(duration)\n\t\t\t.attr('points', (d, i) => {\n\t\t\t\tif (d.thresh > total_carbon * 2) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t\tif (d.thresh == 0 && total_carbon == 0) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t\treturn `\n                        ${xScale(d.thresh)}, ${barthickness * 2}\n                        ${xScale(d.thresh)}, ${20 - 15 * imap[i]}\n                        ${i * threshspacing + d.rectwidth / 2}, ${20 - 15 * imap[i]}\n                        ${i * threshspacing + d.rectwidth / 2}, ${-(barmargins.t - threshmargins.t - containerheight)}\n                        `;\n\t\t\t});\n\n\t\t// remove if nothing entered\n\t\tif (total_carbon == 0) {\n\t\t\tyaxisg.remove();\n\t\t\txaxisg.remove();\n\t\t\tbarg.remove();\n\t\t}\n\n\t\t// remove y axis components\n\t\txaxisg.selectAll('.domain').remove();\n\t\tyaxisg.selectAll('.tick').remove();\n\t};\n\n\treturn <div className=\"carbon-bar-card\" ref={container}></div>;\n};\n\nexport { CarbonBar };\n","import React, { useEffect, useRef } from 'react';\n\nimport { formatInt } from './numformat.js';\nimport { CarbonBar } from './charts/carbonbar.js';\n\nconst CarbonLimitContainer = props => {\n\tconst container = useRef(null);\n\tconst { summary } = props.building;\n\n\tuseEffect(() => {\n\t\tnormalizeRects();\n\t});\n\n\tconst normalizeRects = () => {\n\t\tlet rectswidth = 0;\n\t\tcontainer.current.querySelectorAll('.carbon-summary-text').forEach(node => {\n\t\t\trectswidth = Math.max(rectswidth, node.getBoundingClientRect().width);\n\t\t});\n\n\t\tif (rectswidth != 0) {\n\t\t\tcontainer.current.querySelectorAll('.carbon-summary-text').forEach(node => {\n\t\t\t\tnode.setAttribute('width', rectswidth);\n\t\t\t});\n\t\t}\n\t};\n\n\tlet carbondata = {\n\t\ttotal_carbon: summary.total_carbon,\n\t\ttotal_area: summary.total_area,\n\t\tco2limit_2024: summary.co2limit_2024,\n\t\tco2limit_2030: summary.co2limit_2030,\n\t\tco2limit_2035: summary.co2limit_2035,\n\t\tfine_2024: summary.fine_2024,\n\t\tfine_2030: summary.fine_2030,\n\t\tfine_2035: summary.fine_2035,\n\t};\n\n\tcarbondata['carbon_norm'] = carbondata.total_carbon / carbondata.total_area;\n\n\treturn (\n\t\t<div className=\"carbon-main-container\">\n\t\t\t<div className=\"container-header\">Estimated Carbon Summary</div>\n\t\t\t<div ref={container} className=\"carbon-summary-card\">\n\t\t\t\t<div className=\"summary-container summary-container-top\">\n\t\t\t\t\t<div className=\"carbon-summary-val\">{formatInt(carbondata.total_carbon)}</div>\n\t\t\t\t\t<div className=\"carbon-summary-text\">tCO2e/yr</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"summary-container summary-container-bottom\">\n\t\t\t\t\t<div className=\"carbon-summary-val\">{formatInt(carbondata.carbon_norm)}</div>\n\t\t\t\t\t<div className=\"carbon-summary-text\">tCO2/sf/yr</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<CarbonBar carbondata={carbondata}></CarbonBar>\n\t\t</div>\n\t);\n};\n\nexport { CarbonLimitContainer };\n","import React, { useEffect, useRef } from 'react';\n\nimport { nest, select, selectAll, pie, arc, interpolateObject, interpolate, event, rgb } from 'd3';\n\nimport { formatInt } from '../numformat.js';\n\nconst DonutChart = props => {\n\tconst container = useRef(null);\n\n\tuseEffect(() => {\n\t\tcreateDonutChart({});\n\t\twindow.addEventListener('resize', handleResize);\n\t\treturn () => window.removeEventListener('resize', handleResize);\n\t});\n\n\tconst handleResize = () => {\n\t\tcreateDonutChart({});\n\t};\n\n\tconst createDonutChart = params => {\n\t\tconst node = container.current;\n\t\tlet data = props.donutprops;\n\t\tlet title = props.title;\n\t\tlet tag = props.tag;\n\n\t\tlet divdims = node.parentElement.parentElement.getBoundingClientRect();\n\t\tlet divheightoffset = 65;\n\t\tlet divwidthoffset = 40;\n\n\t\t// definitions and setup\n\t\tlet myDuration = 600;\n\t\tlet firstTime = true;\n\n\t\tlet width = (divdims.width - divwidthoffset) / 3;\n\t\tlet height = divdims.height - divheightoffset;\n\n\t\tlet margintop = Math.max(height * 0.01, 10);\n\t\tlet marginbottom = Math.max(height * 0.05, 40);\n\n\t\tmargintop = 0;\n\n\t\tlet piewidth = width;\n\t\tlet pieheight = height - margintop - marginbottom;\n\n\t\tlet margin = Math.max(height * 0.05, 10);\n\t\tlet radius = Math.min(piewidth, pieheight) / 2;\n\n\t\tlet colorlookups = {\n\t\t\tElectricity: '#358FB4',\n\t\t\tGas: '#6EB12C',\n\t\t\tSteam: '#B23232',\n\t\t\t'Fuel Two': '#A644E2',\n\t\t\t'Fuel Four': '#62009E',\n\t\t};\n\n\t\tlet unitlookup = {\n\t\t\tcost: {\n\t\t\t\tval: '$',\n\t\t\t\tval_norm: '$/sf/yr',\n\t\t\t},\n\t\t\tenergy: {\n\t\t\t\tval: 'kBtu',\n\t\t\t\tval_norm: 'kBtu/sf/yr',\n\t\t\t},\n\t\t\tcarbon: {\n\t\t\t\tval: 'tCO2e',\n\t\t\t\tval_norm: 'tCO2e/sf/yr',\n\t\t\t},\n\t\t};\n\n\t\tlet piefunc = pie()\n\t\t\t.value(function(d) {\n\t\t\t\treturn d.val;\n\t\t\t})\n\t\t\t.sort(null);\n\n\t\tlet arcfunc = arc()\n\t\t\t.innerRadius((radius - margin) * 0.7)\n\t\t\t.outerRadius(radius - margin);\n\n\t\t//  build container\n\t\tlet svg = select(node)\n\t\t\t.selectAll('svg')\n\t\t\t.data([0])\n\t\t\t.join('svg')\n\t\t\t.attr('width', width)\n\t\t\t.attr('height', height);\n\n\t\tlet g = svg\n\t\t\t.selectAll('g')\n\t\t\t.data([0])\n\t\t\t.join('g')\n\t\t\t.attr('transform', `translate(${width / 2}, ${pieheight / 2 + margintop})`);\n\n\t\t// get totals\n\t\tlet total_abs = 0;\n\t\tlet total_norm = 0;\n\t\tdata.forEach(d => {\n\t\t\ttotal_abs += d.val;\n\t\t\ttotal_norm += d.val_norm;\n\t\t});\n\n\t\t// add title\n\t\tlet titletext = svg\n\t\t\t.selectAll('.titletext')\n\t\t\t.data([0])\n\t\t\t.join('text')\n\t\t\t.text(title)\n\t\t\t.attr('class', 'titletext')\n\t\t\t.attr('x', width / 2)\n\t\t\t.attr('y', pieheight / 2 + margintop)\n\t\t\t.attr('font-size', 14)\n\t\t\t.attr('fill', () => {\n\t\t\t\tif (formatInt(total_abs) != 0) {\n\t\t\t\t\treturn 'black';\n\t\t\t\t}\n\t\t\t\treturn 'gray';\n\t\t\t})\n\t\t\t.attr('text-anchor', 'middle')\n\t\t\t.style('font-family', 'CircularStd-Bold');\n\n\t\t// add summary text\n\n\t\tlet summarytext = svg\n\t\t\t.selectAll('.summarytext')\n\t\t\t.data([total_abs, total_norm])\n\t\t\t.join('text')\n\t\t\t.text((d, i) => {\n\t\t\t\tif (formatInt(total_abs) == 0) {\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\t\t\t\tif (tag == 'cost') {\n\t\t\t\t\tif (i == 0) {\n\t\t\t\t\t\treturn `$${formatInt(d)}`;\n\t\t\t\t\t}\n\t\t\t\t\tif (i == 1) {\n\t\t\t\t\t\tlet val = d || 0;\n\t\t\t\t\t\treturn `$${formatInt(val)}/sf/yr`;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (i == 0) {\n\t\t\t\t\t\treturn `${formatInt(d)} ${unitlookup[tag].val} `;\n\t\t\t\t\t}\n\t\t\t\t\tif (i == 1) {\n\t\t\t\t\t\tlet val = d || 0;\n\t\t\t\t\t\treturn `${formatInt(val)} ${unitlookup[tag].val_norm}`;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.attr('class', 'summarytext')\n\t\t\t.attr('x', width / 2)\n\t\t\t.attr('y', (d, i) => pieheight + margintop + i * 16 + 10)\n\t\t\t.attr('fill', 'black')\n\t\t\t.attr('text-anchor', 'middle');\n\n\t\t// add tip\n\t\tlet tooltipdiv = select(node)\n\t\t\t.selectAll('.tooltip.tooltip-donut')\n\t\t\t.data([0])\n\t\t\t.join('div')\n\t\t\t.attr('class', 'tooltip tooltip-donut')\n\t\t\t.style('opacity', 0);\n\n\t\t// format data -- can easily refactor this because nesting is not particularly valuable.\n\t\tlet path = g.selectAll('path');\n\n\t\tlet nesteddata = nest()\n\t\t\t.key(function(d) {\n\t\t\t\treturn d;\n\t\t\t})\n\t\t\t.entries(data)\n\t\t\t.reverse();\n\t\tlet data0 = path.data();\n\t\tlet data1 = piefunc(nesteddata[0].values);\n\n\t\t// handle paths and tweening\n\t\tpath = path.data(data1, key);\n\t\tpath.transition()\n\t\t\t.duration(myDuration)\n\t\t\t.attrTween('d', arcTween);\n\t\tpath.enter()\n\t\t\t.append('path')\n\t\t\t.each(function(d, i) {\n\t\t\t\tlet narc = findNeighborArc(i, data0, data1, key);\n\t\t\t\tif (narc) {\n\t\t\t\t\tthis._current = narc;\n\t\t\t\t\tthis._previous = narc;\n\t\t\t\t} else {\n\t\t\t\t\tthis._current = d;\n\t\t\t\t}\n\t\t\t})\n\t\t\t.attr('fill', function(d, i) {\n\t\t\t\treturn colorlookups[d.data.utility];\n\t\t\t})\n\t\t\t.on('mouseover', function(d) {\n\t\t\t\ttooltipdiv\n\t\t\t\t\t.transition()\n\t\t\t\t\t.duration(200)\n\t\t\t\t\t.style('opacity', 0.9);\n\n\t\t\t\ttooltipdiv\n\t\t\t\t\t.html(\n\t\t\t\t\t\t`\n          <span class = 'tip-header'>${d.data.utility}</span>\n          <br/>\n          ${tag == 'cost' ? `$${formatInt(d.data.val)}` : `${formatInt(d.data.val)} ${unitlookup[tag].val}`}\n          <br/>\n          ${\n\t\t\t\ttag == 'cost'\n\t\t\t\t\t? `$${formatInt(d.data.val_norm)}/sf/yr`\n\t\t\t\t\t: `${formatInt(d.data.val_norm)} ${unitlookup[tag].val_norm}`\n\t\t\t}\n            `\n\t\t\t\t\t)\n\t\t\t\t\t.style('left', () => {\n\t\t\t\t\t\treturn event.pageX - 100;\n\t\t\t\t\t})\n\t\t\t\t\t.style('top', event.pageY - 100 + 'px');\n\n\t\t\t\tselect(this)\n\t\t\t\t\t.transition()\n\t\t\t\t\t.duration(200)\n\t\t\t\t\t.style('fill', function(d, i) {\n\t\t\t\t\t\treturn rgb(colorlookups[d.data.utility]).darker();\n\t\t\t\t\t});\n\t\t\t})\n\t\t\t.on('mouseout', function(d) {\n\t\t\t\ttooltipdiv\n\t\t\t\t\t.transition()\n\t\t\t\t\t.duration(500)\n\t\t\t\t\t.style('opacity', 0);\n\n\t\t\t\tselect(this)\n\t\t\t\t\t.transition()\n\t\t\t\t\t.duration(200)\n\t\t\t\t\t.style('fill', function(d, i) {\n\t\t\t\t\t\treturn colorlookups[d.data.utility];\n\t\t\t\t\t});\n\t\t\t})\n\t\t\t.transition()\n\t\t\t.duration(myDuration)\n\t\t\t.attrTween('d', arcTween);\n\n\t\tpath.exit()\n\t\t\t.transition()\n\t\t\t.duration(myDuration)\n\t\t\t.attrTween('d', function(d, index) {\n\t\t\t\tlet currentIndex = this._previous.data.utility;\n\t\t\t\tlet i = interpolateObject(d, this._previous);\n\t\t\t\treturn function(t) {\n\t\t\t\t\treturn arcfunc(i(t));\n\t\t\t\t};\n\t\t\t})\n\t\t\t.remove();\n\t\tfirstTime = false;\n\n\t\t// internal functions\n\t\tfunction key(d) {\n\t\t\treturn d.data.utility;\n\t\t}\n\n\t\tfunction findNeighborArc(i, data0, data1, key) {\n\t\t\tlet d;\n\n\t\t\tif ((d = findPreceding(i, data0, data1, key))) {\n\t\t\t\tlet obj = Object.assign({}, d);\n\t\t\t\tobj.startAngle = d.endAngle;\n\t\t\t\treturn obj;\n\t\t\t} else if ((d = findFollowing(i, data0, data1, key))) {\n\t\t\t\tlet obj = Object.assign({}, d);\n\t\t\t\tobj.endAngle = d.startAngle;\n\t\t\t\treturn obj;\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\t// Find the element in data0 that joins the highest preceding element in data1.\n\t\tfunction findPreceding(i, data0, data1, key) {\n\t\t\tlet m = data0.length;\n\t\t\twhile (--i >= 0) {\n\t\t\t\tlet k = key(data1[i]);\n\t\t\t\tfor (let j = 0; j < m; ++j) {\n\t\t\t\t\tif (key(data0[j]) === k) return data0[j];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// Find the element in data0 that joins the lowest following element in data1.\n\t\tfunction findFollowing(i, data0, data1, key) {\n\t\t\tlet n = data1.length,\n\t\t\t\tm = data0.length;\n\t\t\twhile (++i < n) {\n\t\t\t\tlet k = key(data1[i]);\n\t\t\t\tfor (let j = 0; j < m; ++j) {\n\t\t\t\t\tif (key(data0[j]) === k) return data0[j];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction arcTween(d) {\n\t\t\tlet i = interpolate(this._current, d);\n\t\t\tthis._current = i(0);\n\t\t\treturn function(t) {\n\t\t\t\treturn arcfunc(i(t));\n\t\t\t};\n\t\t}\n\t};\n\n\treturn <div className=\"donut-container\" ref={container}></div>;\n};\n\nexport { DonutChart };\n","import React, { useEffect, useRef } from 'react';\n\nimport { select } from 'd3';\n\nconst DonutLegend = props => {\n\tconst container = useRef(null);\n\n\tconst { legendprops } = props;\n\n\tuseEffect(() => {\n\t\tcreateLegend();\n\t\twindow.addEventListener('resize', createLegend);\n\t\treturn () => window.removeEventListener('resize', createLegend);\n\t});\n\n\tconst createLegend = () => {\n\t\tconst node = container.current;\n\t\tlet colorlookups = {\n\t\t\tElectricity: '#358FB4',\n\t\t\tGas: '#6EB12C',\n\t\t\tSteam: '#B23232',\n\t\t\t'Fuel Two': '#A644E2',\n\t\t\t'Fuel Four': '#62009E',\n\t\t};\n\n\t\tlet widthlookups = {\n\t\t\tElectricity: 64,\n\t\t\tGas: 25,\n\t\t\tSteam: 40,\n\t\t\t'Fuel Two': 56,\n\t\t\t'Fuel Four': 57,\n\t\t};\n\n\t\tlet legendobj = {};\n\n\t\tlegendprops.forEach(e => {\n\t\t\tif (e.val != 0) {\n\t\t\t\tlegendobj[e.utility] = {\n\t\t\t\t\tcolor: colorlookups[e.utility],\n\t\t\t\t\ttextwidth: widthlookups[e.utility],\n\t\t\t\t};\n\t\t\t}\n\t\t});\n\t\tlet divdims = node.parentElement.parentElement.getBoundingClientRect();\n\n\t\tlet width = divdims.width;\n\t\tlet height = divdims.height;\n\n\t\tlet svg = select(node)\n\t\t\t.selectAll('svg')\n\t\t\t.data([0])\n\t\t\t.join('svg');\n\t\tsvg.attr('width', width).attr('height', height);\n\n\t\tlet g = svg\n\t\t\t.selectAll('g')\n\t\t\t.data([0])\n\t\t\t.join('g');\n\t\tg.attr('transform', `translate(0,10)`);\n\n\t\tlet rects = g\n\t\t\t.selectAll('rect')\n\t\t\t.data(Object.keys(legendobj))\n\t\t\t.join('rect');\n\n\t\tlet nextrectposition = 0;\n\t\tlet rectpadding = 35;\n\t\tlet textpadding = 35;\n\n\t\trects\n\t\t\t.attr('fill', (d, i) => legendobj[d].color)\n\t\t\t.attr('x', (d, i) => {\n\t\t\t\tlet currentposition = nextrectposition;\n\t\t\t\tnextrectposition += legendobj[d].textwidth + rectpadding;\n\t\t\t\treturn currentposition;\n\t\t\t})\n\t\t\t.attr('y', (d, i) => {\n\t\t\t\treturn 0;\n\t\t\t})\n\t\t\t.attr('width', 15)\n\t\t\t.attr('height', 15);\n\t\tlet text = g\n\t\t\t.selectAll('text')\n\t\t\t.data(Object.keys(legendobj))\n\t\t\t.join('text');\n\n\t\tlet nexttextposition = 0;\n\t\ttext.text(d => d)\n\t\t\t.attr('x', (d, i) => {\n\t\t\t\tlet currentposition = nexttextposition;\n\t\t\t\tnexttextposition += legendobj[d].textwidth + textpadding;\n\t\t\t\treturn currentposition + 22;\n\t\t\t})\n\t\t\t.attr('y', (d, i) => {\n\t\t\t\treturn 12;\n\t\t\t})\n\t\t\t.attr('font-size', 14);\n\n\t\tlet computedwidth = g.node().getBBox().width;\n\n\t\tg.attr('transform', `translate(${(width - computedwidth - 20) / 2}, 10)`);\n\t};\n\n\treturn <div className=\"donut-legend-container\" ref={container}></div>;\n};\n\nexport { DonutLegend };\n","import React from 'react';\nimport { formatInt } from './numformat.js';\nimport { DonutChart } from './charts/donutchart.js';\nimport { DonutLegend } from './charts/donutlegend.js';\n\nconst BuildingMetricContainer = props => {\n\tlet { kbtu, cost, carbon, kbtu_sf, cost_sf, carbon_sf } = props.building.utilities;\n\n\tlet costdata = [\n\t\t{\n\t\t\tutility: 'Electricity',\n\t\t\tval: cost.elec,\n\t\t\tval_norm: cost_sf.elec,\n\t\t},\n\t\t{\n\t\t\tutility: 'Gas',\n\t\t\tval: cost.gas,\n\t\t\tval_norm: cost_sf.gas,\n\t\t},\n\t\t{\n\t\t\tutility: 'Steam',\n\t\t\tval: cost.steam,\n\t\t\tval_norm: cost_sf.steam,\n\t\t},\n\t\t{\n\t\t\tutility: 'Fuel Two',\n\t\t\tval: cost.fuel_two,\n\t\t\tval_norm: cost_sf.fuel_two,\n\t\t},\n\t\t{\n\t\t\tutility: 'Fuel Four',\n\t\t\tval: cost.fuel_four,\n\t\t\tval_norm: cost_sf.fuel_four,\n\t\t},\n\t];\n\n\tlet energydata = [\n\t\t{\n\t\t\tutility: 'Electricity',\n\t\t\tval: kbtu.elec,\n\t\t\tval_norm: kbtu_sf.elec,\n\t\t},\n\t\t{\n\t\t\tutility: 'Gas',\n\t\t\tval: kbtu.gas,\n\t\t\tval_norm: kbtu_sf.gas,\n\t\t},\n\t\t{\n\t\t\tutility: 'Steam',\n\t\t\tval: kbtu.steam,\n\t\t\tval_norm: kbtu_sf.steam,\n\t\t},\n\t\t{\n\t\t\tutility: 'Fuel Two',\n\t\t\tval: kbtu.fuel_two,\n\t\t\tval_norm: kbtu_sf.fuel_two,\n\t\t},\n\t\t{\n\t\t\tutility: 'Fuel Four',\n\t\t\tval: kbtu.fuel_four,\n\t\t\tval_norm: kbtu_sf.fuel_four,\n\t\t},\n\t];\n\n\tlet carbondata = [\n\t\t{\n\t\t\tutility: 'Electricity',\n\t\t\tval: carbon.elec,\n\t\t\tval_norm: carbon_sf.elec,\n\t\t},\n\t\t{\n\t\t\tutility: 'Gas',\n\t\t\tval: carbon.gas,\n\t\t\tval_norm: carbon_sf.gas,\n\t\t},\n\t\t{\n\t\t\tutility: 'Steam',\n\t\t\tval: carbon.steam,\n\t\t\tval_norm: carbon_sf.steam,\n\t\t},\n\t\t{\n\t\t\tutility: 'Fuel Two',\n\t\t\tval: carbon.fuel_two,\n\t\t\tval_norm: carbon_sf.fuel_two,\n\t\t},\n\t\t{\n\t\t\tutility: 'Fuel Four',\n\t\t\tval: carbon.fuel_four,\n\t\t\tval_norm: carbon_sf.fuel_four,\n\t\t},\n\t];\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<div className=\"container-header\">Estimated Building Metrics</div>\n\n\t\t\t<div className=\"donuts\">\n\t\t\t\t<DonutChart title={'Cost'} donutprops={costdata} tag={'cost'}></DonutChart>\n\t\t\t\t<DonutChart title={'Energy'} donutprops={energydata} tag={'energy'}></DonutChart>\n\t\t\t\t<DonutChart title={'Carbon'} donutprops={carbondata} tag={'carbon'}></DonutChart>\n\t\t\t</div>\n\t\t\t<div className=\"legend\">\n\t\t\t\t<DonutLegend legendprops={energydata}></DonutLegend>\n\t\t\t</div>\n\t\t</React.Fragment>\n\t);\n};\n\nexport { BuildingMetricContainer };\n","import React from 'react';\nimport { AnnualCostSummaryContainer } from './annualcostsummarycontainer.js';\nimport { CarbonLimitContainer } from './carbonlimitcontainer.js';\nimport { BuildingMetricContainer } from './buildingmetriccontainer.js';\nimport { conn } from '../store/connect';\n\nconst CardLayout = props => {\n\tconst { building } = props;\n\treturn (\n\t\t<div className=\"content-layout\">\n\t\t\t<div className=\"top-row\">\n\t\t\t\t<CarbonLimitContainer building={building}></CarbonLimitContainer>\n\t\t\t</div>\n\t\t\t<div className=\"bottom-row\">\n\t\t\t\t<div className=\"left-bottom cost-card\">\n\t\t\t\t\t<AnnualCostSummaryContainer building={building}></AnnualCostSummaryContainer>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"right-bottom donut-card\">\n\t\t\t\t\t<BuildingMetricContainer building={building}></BuildingMetricContainer>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nconst mapStateToProps = state => {\n\treturn {\n\t\tbuilding: state.building.compiled,\n\t};\n};\nexport default conn(mapStateToProps)(CardLayout);\n","import React from \"react\";\nimport { BeExLogo } from \"./beexlogo\";\nimport { conn } from \"../store/connect\";\n\nconst SmallScreen = (props) => {\n  const { isSmallScreen } = props;\n  return (\n    <div\n      className=\"modal\"\n      style={{\n        visibility: isSmallScreen ? \"visible\" : \"hidden\",\n      }}\n    >\n      <div className=\"modal-content\" style={{ height: \"75vh\", width: \"75vw\" }}>\n        <div className=\"head-text-1\"> NYC LL97 Carbon Calculator</div>\n        <div className=\"head-text-2\"> Browser too small to view app.</div>\n        <div className=\"head-text-3\" style={{ marginLeft: 20 }}>\n          please view on a larger device, increase window size or decrease\n          browser zoom.\n        </div>\n      </div>\n    </div>\n  );\n};\nconst mapStateToProps = (state) => {\n  return {\n    isSmallScreen: state.ui.isSmallScreen,\n  };\n};\n\nexport default conn(mapStateToProps)(SmallScreen);\n","import React, { useEffect } from 'react';\n\nconst Modal = props => {\n\tconst { active, children, hideCallback } = props;\n\n\tconst hideModal = () => {\n\t\thideCallback();\n\t};\n\tconst handleKeyDown = e => {\n\t\tif (e.key == 'Escape') {\n\t\t\thideModal();\n\t\t}\n\t};\n\tconst handleClick = e => {\n\t\tif (!e.target.classList.contains('modal-content') && e.target.classList.contains('modal')) {\n\t\t\thideModal();\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\twindow.addEventListener('keydown', handleKeyDown);\n\t\twindow.addEventListener('mousedown', handleClick);\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener('keydown', handleKeyDown);\n\t\t\twindow.removeEventListener('mousedown', handleClick);\n\t\t};\n\t});\n\n\treturn (\n\t\t<div className={`modal ${active ? 'active' : 'inactive'}`}>\n\t\t\t<div className=\"modal-content\">{children}</div>\n\t\t</div>\n\t);\n};\n\nexport { Modal };\n","const LL84BuildingTypeLookup = {\n  Office: \"B (Business)\",\n  \"K-12 School\": \"E (Educational)\",\n  Hotel: \"R-1 (Residential)\",\n  \"Worship Facility\": \"A (Assembly)\",\n  \"Other - Lodging/Residential\": \"R-1 (Residential)\",\n  \"Distribution Center\": \"S (Storage)\",\n  \"Non-Refrigerated Warehouse\": \"S (Storage)\",\n  \"Refrigerated Warehouse\": \"S (Storage)\",\n  \"Manufacturing/Industrial Plant\": \"F (Factory/Industrial)\",\n  \"Multifamily Housing\": \"R-2 (Residential)\",\n  \"Hospital (General Medical & Surgical)*\": \"I-2 (Institutional)\",\n  Other: \"A (Assembly)\",\n  \"Other - Education\": \"A (Assembly)\",\n  Museum: \"A (Assembly)\",\n  \"Other - Entertainment/Public Assembly\": \"A (Assembly)\",\n  \"Retail Store\": \"M (Mercantile)\",\n  \"College/University\": \"E (Educational)\",\n  \"Food Service\": \"F (Factory/Industrial)\",\n  \"Residence Hall/Dormitory\": \"R-1 (Residential)\",\n  Laboratory: \"I-2 (Institutional)\",\n  \"Medical Office\": \"B (Business)\",\n  \"Urgent Care/Clinic/Other Outpatient\": \"B (Healthcare)\",\n  \"Hospital (General Medical & Surgical)\": \"B (Healthcare)\",\n  \"Ambulatory Surgical Center\": \"B (Healthcare)\",\n  \"Other - Specialty Hospital\": \"I-2 (Institutional)\",\n  \"Other - Mall\": \"B (Business)\",\n  \"Senior Care Community\": \"I-1 (Institutional)\",\n  \"Pre-school/Daycare\": \"E (Educational)\",\n  \"Social/Meeting Hall\": \"A (Assembly)\",\n  \"Performing Arts\": \"A (Assembly)\",\n  Parking: \"U (Utility/Misc)\",\n  \"Adult Education\": \"E (Educational)\",\n  \"Self-Storage Facility\": \"U (Utility/Misc)\",\n  \"Financial Office\": \"B (Business)\",\n  \"Strip Mall\": \"M (Mercantile)\",\n  \"Prison/Incarceration\": \"I-3 (Institutional)\",\n  \"Fitness Center/Health Club/Gym\": \"B (Business)\",\n  \"Bank Branch\": \"B (Business)\",\n  \"Wholesale Club/Supercenter\": \"M (Mercantile)\",\n  \"Data Center\": \"B (Business)\",\n  \"Other - Services\": \"U (Utility/Misc)\",\n  \"Outpatient Rehabilitation/Physical Therapy\": \"B (Business)\",\n  Library: \"A (Assembly)\",\n  \"Other - Recreation\": \"A (Assembly)\",\n  \"Supermarket/Grocery Store\": \"M (Mercantile)\",\n  \"Convenience Store without Gas Station\": \"M (Mercantile)\",\n  \"Residential Care Facility\": \"I-1 (Institutional)\",\n  \"Movie Theater\": \"A (Assembly)\",\n  \"Enclosed Mall\": \"A (Assembly)\",\n  \"Automobile Dealership\": \"B (Business)\",\n  \"Mailing Center/Post Office\": \"B (Business)\",\n  \"Personal Services (Health/Beauty, Dry Cleaning, etc)\": \"B (Business)\",\n  Courthouse: \"A (Assembly)\",\n  \"Other - Technology/Science\": \"B (Business)\",\n  \"Other - Public Services\": \"B (Business)\",\n  \"Repair Services (Vehicle, Shoe, Locksmith, etc)\": \"B (Business)\",\n  \"Fire Station\": \"B (Business)\",\n  \"Police Station\": \"B (Business)\",\n  \"Wastewater Treatment Plant\": \"F (Factory/Industrial)\",\n  \"Veterinary Office\": \"B (Business)\",\n  \"Ice/Curling Rink\": \"A (Assembly)\",\n  Zoo: \"A (Assembly)\",\n  \"Transportation Terminal/Station\": \"A (Assembly)\",\n  \"Stadium (Open)\": \"A (Assembly)\",\n  Restaurant: \"A (Assembly)\",\n  \"Vocational School\": \"E (Educational)\",\n  \"Other - Restaurant/Bar\": \"B (Business)\",\n  \"Fast Food Restaurant\": \"A (Assembly)\",\n  \"Swimming Pool\": \"A (Assembly)\",\n  \"Bar/Nightclub\": \"A (Assembly)\",\n  \"Food Sales\": \"M (Mercantile)\",\n  \"Other - Utility\": \"U (Utility/Misc)\",\n  \"Bowling Alley\": \"A (Assembly)\",\n  \"Single Family Home\": \"A (Assembly)\",\n  \"Convention Center\": \"A (Assembly)\",\n};\n\nconst buildingTypeAbbreviations = {\n  \"A (Assembly)\": \"A\",\n  \"B (Business)\": \"B_norm\",\n  \"B (Healthcare)\": \"B_health\",\n  \"E (Educational)\": \"E\",\n  \"F (Factory/Industrial)\": \"F\",\n  \"H (High Hazard)\": \"H\",\n  \"I-1 (Institutional)\": \"I1\",\n  \"I-2 (Institutional)\": \"I2\",\n  \"I-3 (Institutional)\": \"I3\",\n  \"I-4 (Institutional)\": \"I4\",\n  \"M (Mercantile)\": \"M\",\n  \"R-1 (Residential)\": \"R1\",\n  \"R-2 (Residential)\": \"R2\",\n  \"S (Storage)\": \"S\",\n  \"U (Utility/Misc)\": \"U\",\n};\n\nconst translateBuildingType = (ll84type) => {\n  const ll97_type_long = LL84BuildingTypeLookup[ll84type];\n  const ll97_type_short = buildingTypeAbbreviations[ll97_type_long];\n  return {\n    ll84: ll84type,\n    ll97_long: ll97_type_long ? ll97_type_long : \"A (Assembly)\",\n    ll97_short: ll97_type_short ? ll97_type_short : \"A\",\n  };\n};\n\nexport { translateBuildingType };\n","import React, { useEffect, useRef } from \"react\";\n\nconst LoadBldgResultsTable = (props) => {\n  const { loadTableData, handleLoad, loadInputResponse, isLoadedError } = props;\n  if (isLoadedError) {\n    return <div>error accessing LL84 database...</div>;\n  }\n\n  // janky workaround to prevent undefined series data from showing\n  let filteredTableData = loadTableData.filter((d) => {\n    return Object.values(d).every((t) => t != undefined);\n  });\n\n  if (filteredTableData.length == 0) {\n    filteredTableData = [{}];\n  }\n\n  return (\n    <div className=\"load-modal-results-table-container\">\n      <table className=\"load-modal-results-table\">\n        <thead>\n          <tr>\n            <td> {\"\"} </td>\n            {Object.keys(Object.values(filteredTableData)[0]).map((row, i) => (\n              <td style={{ width: [300, 200, 150, 150, 150, 100][i] }} key={i}>\n                {row}\n              </td>\n            ))}\n          </tr>\n        </thead>\n        <tbody>\n          {Object.values(filteredTableData).map((row, i) => (\n            <tr key={i}>\n              <td>\n                {Object.keys(row).length > 0 ? (\n                  <div\n                    className=\"select-bldg-btn\"\n                    onClick={() => handleLoad(loadInputResponse[i])}\n                  >\n                    LOAD\n                  </div>\n                ) : (\n                  \"\"\n                )}\n              </td>\n              {Object.values(row).map((e, i) => (\n                <td key={i}>{e}</td>\n              ))}\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\nexport { LoadBldgResultsTable };\n","import React, { useEffect, useRef } from \"react\";\nimport { Modal } from \"./modal.js\";\nimport { handleResponse, parseResponse } from \"./soqlquery.js\";\nimport { LoadBldgResultsTable } from \"./loadbldgresultstable\";\n\nimport { conn } from \"../store/connect\";\n\nconst LoadBldgModal = (props) => {\n  const {\n    loadInputValue,\n    loadInputResponse,\n    loadTableData,\n    loadBldgModalActive,\n    isLoadedError,\n  } = props;\n\n  const inputref = useRef(null);\n\n  useEffect(() => {\n    inputref.current.focus();\n  }, [loadBldgModalActive]);\n\n  const hideModal = () => {\n    props.actions.setLoadBldgModalActive(false);\n  };\n\n  const handleChange = (e) => {\n    props.actions.setLoadInputValue(e.target.value);\n    handleResponse(e.target.value, props.actions.setLoadInputResponse);\n  };\n\n  const handleLoad = (bldginfo) => {\n    let formatted_bldg = parseResponse(bldginfo);\n    props.actions.setLoadInputSelection(bldginfo);\n    props.actions.setIsLoadMode(true);\n    props.actions.setIsDemoMode(false);\n    props.actions.setBuilding(formatted_bldg);\n    props.actions.setIsDefaultRates(true);\n    props.actions.useDefaultRates();\n    props.actions.setLoadConfirmDialogActive(true);\n    hideModal();\n  };\n\n  useEffect(() => {\n    if (\"errorCode\" in loadInputResponse) {\n      props.actions.setIsLoadedError(true);\n    } else {\n      props.actions.setIsLoadedError(false);\n      let formatted = loadInputResponse.map((res) => {\n        return {\n          Name: res.property_name,\n          BBL: res.nyc_borough_block_and_lot,\n          BIN: res.nyc_building_identification,\n          \"Property Type 1\": res.largest_property_use_type,\n          \"Property Type 2\": res._2nd_largest_property_use,\n          \"Property Type 3\": res._3rd_largest_property_use,\n        };\n      });\n      props.actions.setLoadTableData(formatted);\n    }\n  }, [loadInputResponse, props.actions]);\n\n  return (\n    <Modal active={loadBldgModalActive} hideCallback={hideModal}>\n      <div>\n        <div className=\"head-text-1\">\n          Building Utility Info Loader\n          <button className=\"modal-exit-btn\" onClick={hideModal}>\n            x\n          </button>\n        </div>\n      </div>\n\n      <div className=\"load-modal-body\">\n        <div>\n          <p>\n            This form allows for querying NYC's \"Energy and Water Data\n            Disclosure for Local Law 84 2020 (Data for Calendar Year 2019)\"\n            database. The form loads and translates building utility\n            information, either using the property's BBL number, address, or\n            property name (searches are case sensitive).\n          </p>\n          <p>\n            Data loaded using this form should be verified with building\n            utility consumption and gross square footage.\n          </p>\n        </div>\n        <div>\n          <span className=\"head-text-3\">\n            Input BBL ID Number, Property Name, or Address (case sensitive)\n          </span>\n        </div>\n        <input\n          ref={inputref}\n          className=\"bldg-input\"\n          value={loadInputValue}\n          onChange={handleChange}\n        />\n\n        <LoadBldgResultsTable\n          loadTableData={loadTableData}\n          handleLoad={handleLoad}\n          loadInputResponse={loadInputResponse}\n          isLoadedError={isLoadedError}\n        />\n      </div>\n    </Modal>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    loadInputValue: state.ui.loadInputValue,\n    loadInputResponse: state.ui.loadInputResponse,\n    loadTableData: state.ui.loadTableData,\n    loadBldgModalActive: state.ui.loadBldgModalActive,\n    isDemoMode: state.ui.isDemoMode,\n    isLoadMode: state.ui.isLoadMode,\n    isLoadedError: state.ui.isLoadedError,\n  };\n};\n\nexport default conn(mapStateToProps)(LoadBldgModal);\n","import { translateBuildingType } from \"./ll84buildingtypelookup\";\n\nconst handleResponse = (val, callback) => {\n  let fields = [\n    \"property_name\",\n    \"property_id\",\n    \"nyc_borough_block_and_lot\",\n    \"nyc_building_identification\",\n    \"largest_property_use_type_1\",\n    \"largest_property_use_type\",\n    \"_2nd_largest_property_use\",\n    \"_2nd_largest_property_use_1\",\n    \"_3rd_largest_property_use\",\n    \"_3rd_largest_property_use_1\",\n    \"fuel_oil_2_use_kbtu\",\n    \"fuel_oil_4_use_kbtu\",\n    \"district_steam_use_kbtu\",\n    \"natural_gas_use_kbtu\",\n    \"electricity_use_grid_purchase\",\n  ];\n  let source = \"wcm8-aq5w\";\n\n  let query =\n    \"https://data.cityofnewyork.us/resource/\" +\n    source +\n    \".json?$query= SELECT \" +\n    fields.toString() +\n    \" WHERE property_name LIKE '%25\" +\n    val +\n    \"%25' OR nyc_borough_block_and_lot LIKE '%25\" +\n    val +\n    \"%25' OR address_1 LIKE '%25\" +\n    val +\n    \"%25' OR nyc_building_identification LIKE '%25\" +\n    val +\n    \"%25' LIMIT 8\";\n  let xmlhttp = new XMLHttpRequest();\n  xmlhttp.open(\"GET\", query, true);\n  xmlhttp.onreadystatechange = (d) => {\n    let res = xmlhttp.response;\n    let parsed;\n    try {\n      parsed = JSON.parse(res);\n    } catch {\n      parsed = JSON.parse(`\"${res}\"`);\n    }\n    if (parsed == \"\") {\n      callback([{}]);\n    } else {\n      try {\n        parsed = parsed.filter((f) => {\n          return Object.values(f).every((t) => t != undefined);\n        });\n        callback(parsed);\n      }\n      catch {\n        console.log(query)\n        console.log(parsed)\n      }\n    }\n  };\n  xmlhttp.send();\n};\n\nconst parseResponse = (response) => {\n  let bldg = {\n    types: {},\n    utilities: {\n      elec: {\n        cons: 0,\n        rate: 0,\n      },\n      gas: {\n        cons: 0,\n        rate: 0,\n      },\n      steam: {\n        cons: 0,\n        rate: 0,\n      },\n      fuel_two: {\n        cons: 0,\n        rate: 0,\n      },\n      fuel_four: {\n        cons: 0,\n        rate: 0,\n      },\n    },\n  };\n\n  const roundNum = (n) => {\n    return Math.round(+n);\n  };\n\n  let steam_kbtu = response[\"district_steam_use_kbtu\"];\n  let gas_kbtu = response[\"natural_gas_use_kbtu\"];\n  let fuel_two_kbtu = response[\"fuel_oil_2_use_kbtu\"];\n  let fuel_four_kbtu = response[\"fuel_oil_4_use_kbtu\"];\n  let elec_kbtu = response[\"electricity_use_grid_purchase\"];\n\n  let elec = roundNum(elec_kbtu / 3.412);\n  let steam = roundNum(steam_kbtu / 1194);\n  let gas = roundNum(gas_kbtu / 100);\n  let fuel_two = roundNum(fuel_two_kbtu / 138);\n  let fuel_four = roundNum(fuel_four_kbtu / 146);\n\n  bldg.utilities.elec = { cons: +elec || 0, rate: 0 };\n  bldg.utilities.steam = { cons: +steam || 0, rate: 0 };\n  bldg.utilities.gas = { cons: +gas || 0, rate: 0 };\n  bldg.utilities.fuel_two = { cons: +fuel_two || 0, rate: 0 };\n  bldg.utilities.fuel_four = { cons: +fuel_four || 0, rate: 0 };\n\n  let bldg_type_one = response[\"largest_property_use_type\"];\n  let bldg_type_one_area = response[\"largest_property_use_type_1\"];\n  let bldg_type_two = response[\"_2nd_largest_property_use\"];\n  let bldg_type_two_area = response[\"_2nd_largest_property_use_1\"];\n  let bldg_type_three = response[\"_3rd_largest_property_use\"];\n  let bldg_type_three_area = response[\"_3rd_largest_property_use_1\"];\n\n  bldg.types = {\n    1: {\n      type: translateBuildingType(bldg_type_one).ll97_short,\n      area: roundNum(bldg_type_one_area),\n      id: 1,\n    },\n    2: {\n      type: translateBuildingType(bldg_type_two).ll97_short,\n      area: roundNum(bldg_type_two_area),\n      id: 2,\n    },\n    3: {\n      type: translateBuildingType(bldg_type_three).ll97_short,\n      area: roundNum(bldg_type_three_area),\n      id: 3,\n    },\n  };\n\n  if (\n    bldg_type_one === \"Not Available\" ||\n    !bldg_type_one_area ||\n    bldg_type_one_area == 0\n  ) {\n    delete bldg.types[1];\n  }\n  if (\n    bldg_type_two === \"Not Available\" ||\n    !bldg_type_two_area ||\n    bldg_type_two_area == 0\n  ) {\n    delete bldg.types[2];\n  }\n  if (\n    bldg_type_three === \"Not Available\" ||\n    !bldg_type_three_area ||\n    bldg_type_three_area == 0\n  ) {\n    delete bldg.types[3];\n  }\n\n  return bldg;\n};\n\nexport { handleResponse, parseResponse };\n","import React from \"react\";\nimport { Modal } from \"./modal.js\";\n\nimport { conn } from \"../store/connect\";\nimport { translateBuildingType } from \"./ll84buildingtypelookup\";\n\nconst LoadConfirmDialog = (props) => {\n  const { loadConfirmDialogActive, loadInputSelection, inputs } = props;\n\n  const hideDialog = () => {\n    props.actions.setLoadConfirmDialogActive(false);\n  };\n\n  const getConvertedTypes = () => {\n    let type1 = translateBuildingType(\n      loadInputSelection[\"largest_property_use_type\"]\n    );\n    let type2 = translateBuildingType(\n      loadInputSelection[\"_2nd_largest_property_use\"]\n    );\n    let type3 = translateBuildingType(\n      loadInputSelection[\"_3rd_largest_property_use\"]\n    );\n\n    let type1_ll84 = type1.ll84;\n    let type2_ll84 = type2.ll84;\n    let type3_ll84 = type3.ll84;\n\n    let type1_ll97 = type1.ll97_long;\n    let type2_ll97 = type2.ll97_long;\n    let type3_ll97 = type3.ll97_long;\n    let type1_ll97_area = inputs.types[1] ? inputs.types[1].area : undefined;\n    let type2_ll97_area = inputs.types[2] ? inputs.types[2].area : undefined;\n    let type3_ll97_area = inputs.types[3] ? inputs.types[3].area : undefined;\n\n    return {\n      1: {\n        ll84: type1_ll84,\n        ll97: type1_ll97,\n        area: type1_ll97_area,\n      },\n      2: {\n        ll84: type2_ll84,\n        ll97: type2_ll97,\n        area: type2_ll97_area,\n      },\n      3: {\n        ll84: type3_ll84,\n        ll97: type3_ll97,\n        area: type3_ll97_area,\n      },\n    };\n  };\n\n  const keyNameLookup = {\n    property_name: \"Property Name\",\n    property_id: \"Property ID\",\n    nyc_borough_block_and_lot: \"BBL ID (10 digit)\",\n    nyc_building_identification: \"NYC Building Identification Number (BIN)\",\n    largest_property_use_type_1: \"Property Type 1 Area\",\n    largest_property_use_type: \"Property Type 1\",\n    _2nd_largest_property_use: \"Property Type 2 Area\",\n    _2nd_largest_property_use_1: \"Property Type 2\",\n    _3rd_largest_property_use: \"Property Type 3 Area\",\n    _3rd_largest_property_use_1: \"Property Type 3\",\n    fuel_oil_2_use_kbtu: \"Fuel Oil Two Use (kBtu)\",\n    fuel_oil_4_use_kbtu: \"Fuel Oil Four Use (kBtu)\",\n    district_steam_use_kbtu: \"District Steam Use (kBtu)\",\n    natural_gas_use_kbtu: \"Natural Gas Use (kBtu)\",\n    electricity_use_grid_purchase: \"Electricity Purchased From Grid (kBtu)\",\n  };\n\n  const LoadMarkup = (\n    <ul>\n      {Object.keys(loadInputSelection).map((e, i) => {\n        const keyName = keyNameLookup[e];\n        const val = loadInputSelection[e];\n        if ((val !== \"Not Available\") & (val !== 0)) {\n          return (\n            <li key={i}>\n              {keyName}: {val}\n            </li>\n          );\n        } else {\n          return \"\";\n        }\n      })}\n    </ul>\n  );\n\n  const typemap = getConvertedTypes();\n  const TypeMapMarkup = Object.keys(typemap).map((d, i) => {\n    let ll84type = typemap[d].ll84;\n    let ll97type = typemap[d].ll97;\n    let area = typemap[d].area;\n    if (area === undefined) {\n      return \"\";\n    } else {\n      return (\n        <li key={i}>\n          LL84 Building Type <u>{ll84type}</u> ({area} SF) mapped to{\" \"}\n          <u>{ll97type}</u>\n        </li>\n      );\n    }\n  });\n\n  return (\n    <Modal active={loadConfirmDialogActive} hideCallback={hideDialog}>\n      <div className=\"head-text-1\">\n        Loaded Building Data Summary for {loadInputSelection.property_name}\n        <button className=\"modal-exit-btn\" onClick={hideDialog}>\n          x\n        </button>\n      </div>\n      <div className=\"load-modal-body\">\n        <div className=\"head-text-3\">\n          The following info has been loaded from the NYC LL84 Database. Note\n          that inputs should be verified by the building owner / stakeholder for\n          accuracy.\n        </div>\n        <div className=\"head-text-4\">{LoadMarkup}</div>\n        <div className=\"head-text-3\">\n          Because property use types in LL84 do not align with occupancy classes\n          referenced in LL97, an attempt has been made to correlate the loaded\n          building's LL84 property use to the closest LL97 type:\n        </div>\n\n        <div className=\"head-text-4\">\n          <ul>{TypeMapMarkup}</ul>\n        </div>\n        <div className=\"head-text-3\">\n          Please verify the above mapping and make any changes necessary to\n          areas and utility consumption in the \"Building Inputs\" section of the\n          calculator.\n        </div>\n        <div className=\"ok-dialog-btn-container\">\n          <button\n            style={{ height: \"42px\" }}\n            className=\"ok-dialog-btn\"\n            onClick={hideDialog}\n          >\n            OK\n          </button>\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    loadConfirmDialogActive: state.ui.loadConfirmDialogActive,\n    loadInputSelection: state.ui.loadInputSelection,\n    loadedBuildingTypes: state.building.loadedBuildingTypes,\n    building: state.building.compiled,\n    inputs: state.building.inputs,\n  };\n};\n\nexport default conn(mapStateToProps)(LoadConfirmDialog);\n","import React, { useEffect, useRef } from \"react\";\nimport { Modal } from \"./modal.js\";\nimport { conn } from \"../store/connect\";\n\nconst UtilityRateModal = (props) => {\n  const { utilityRateModalActive } = props;\n\n  const hideModal = () => {\n    props.actions.setUtilityRateModalActive(false);\n  };\n\n  return (\n    <Modal active={utilityRateModalActive} hideCallback={hideModal}>\n      <div>\n        <div className=\"head-text-1\">\n          Default Utility Rate Information\n          <button className=\"modal-exit-btn\" onClick={hideModal}>\n            x\n          </button>\n        </div>\n      </div>\n\n      <div className=\"load-modal-body\">\n        <div>\n          <p>\n            This calculator provides default NYC utility rates as a convenience\n            for contextualizing LL97 penalties as fractions of overall operating\n            cost. These are \"virtual\" utility rates, equivalent to the total\n            annual utility cost divided by the total annual consumption (i.e.,\n            $/kWh, $/therm, etc) for that fuel source.\n          </p>\n          <p>\n            Actual rates will vary according to individual rate structure,\n            demand charges, and fluctuations in energy cost. The default rates\n            shown below and used in the calculator are reflective of NYC\n            averages for typical commercial buildings.\n          </p>\n          <ul>\n            <li>Electricity: $0.22/kWh</li>\n            <li>Natural Gas: $0.997/therm</li>\n            <li>District Steam: $35/MMBtu</li>\n            <li>Fuel Oil #2: $1.65/gal</li>\n            <li>Fuel Oil #4: $1.65/gal</li>\n          </ul>\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    utilityRateModalActive: state.ui.utilityRateModalActive,\n  };\n};\n\nexport default conn(mapStateToProps)(UtilityRateModal);\n","import React from \"react\";\nimport html2canvas from 'html2canvas'\n\nconst Footer = () =>{\n  const exportAsPicture = () => {\n    var html = document.getElementsByTagName('HTML')[0]\n    var body =  document.getElementsByTagName('BODY')[0]\n    var htmlWidth = html.clientWidth;\n    var bodyWidth = body.clientWidth;\n    \n    var data = document.getElementById('main-container')\n    var newWidth = data.scrollWidth - data.clientWidth\n\n    \n    if (newWidth > data.clientWidth){\n        htmlWidth += newWidth \n        bodyWidth += newWidth\n    }\n    \n    html.style.width = htmlWidth + 'px'\n    body.style.width = bodyWidth + 'px'\n\n    \n    html2canvas(data).then((canvas)=>{\n        var image = canvas.toDataURL('image/png', 1.0);\n        return image\n    }).then((image)=>{\n        saveAs(image, '2024_LL97_Compliance_Fillout.png') \n        html.style.width = null\n        body.style.width = null\n    })\n}\n\nconst saveAs = (blob, fileName) =>{\n    var elem = window.document.createElement('a');\n    elem.href = blob\n    elem.download = fileName;\n    elem.style = 'display:none;';\n    (document.body || document.documentElement).appendChild(elem);\n    if (typeof elem.click === 'function') {\n        elem.click();\n    } else {\n        elem.target = '_blank';\n        elem.dispatchEvent(new MouseEvent('click', {\n        view: window,\n        bubbles: true,\n        cancelable: true\n        }));\n    }\n    URL.revokeObjectURL(elem.href);\n    elem.remove()\n}\n\nconst buttonStyle = {\n  color: \"dark gray\",\n  backgroundColor: \"#edcd1f\",\n  padding: \"10px\",\n  margin: \"10px\",\n  fontFamily: \"Arial\",\n  fontWeight: \"bold\",\n  borderRadius: \"5px\",\n  border: \"0px\"\n}\n\n      return (\n          <div className=\"footer\" data-html2canvas-ignore >\n            <div className=\"footer-left\">\n              <p>\n                Download Dynamically Generated File \n                <button onClick={exportAsPicture} style={buttonStyle} >Download Screenshot</button>\n                {/*<input type=\"button\" id=\"dwn-btn\" value=\"Download\"/>*/}\n              </p>\n              \n                \n              \n            </div>\n            <div className=\"footer-right\">\n            </div>\n          </div>\n        );\n    };\n\n\nexport { Footer };\n\n","import React, { useEffect } from \"react\";\nimport Sidebar from \"./components/sidebar.js\";\nimport CardLayout from \"./components/cardlayout\";\n\nimport SmallScreen from \"./components/smallscreen.js\";\nimport LoadBldgModal from \"./components/loadbldgmodal\";\nimport LoadConfirmDialog from \"./components/loadconfirmdialog\";\nimport UtilityRateModal from \"./components/utilityratemodal\";\nimport { Footer } from \"./components/footer.js\";\nimport html2canvas from 'html2canvas'\n\nimport { conn } from \"./store/connect\";\n\nimport \"./App.css\";\nimport \"./css/sidebar.css\";\nimport \"./css/mainlayout.css\";\nimport \"./css/header.css\";\nimport \"./css/chart.css\";\nimport \"./css/printlayout.css\";\nimport \"./css/infomodal.css\";\nimport \"./css/loadmodal.css\";\nimport \"./css/typography.css\";\nimport \"./css/logos.css\";\nimport \"./css/footer.css\";\n\nconst App = (props) => {\n  const { dims } = props;\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", handleResize);\n    return () => window.removeEventListener(\"resize\", handleResize);\n  });\n\n  const handleResize = () => {\n    props.actions.setDimensions({\n      height: window.innerHeight,\n      width: window.innerWidth,\n    });\n  };\n\n  useEffect(() => {\n    if (dims.width < 800 || dims.height < 600) {\n      props.actions.setIsSmallScreen(true);\n    } else {\n      props.actions.setIsSmallScreen(false);\n    }\n  }, [dims, props.actions]);\n  \n  const exportAsPicture = () => {\n    var html = document.getElementsByTagName('HTML')[0]\n    var body =  document.getElementsByTagName('BODY')[0]\n    var htmlWidth = html.clientWidth;\n    var bodyWidth = body.clientWidth;\n    \n    var data = document.getElementById('main-container')\n    var newWidth = data.scrollWidth - data.clientWidth\n\n    \n    if (newWidth > data.clientWidth){\n        htmlWidth += newWidth \n        bodyWidth += newWidth\n    }\n    \n    html.style.width = htmlWidth + 'px'\n    body.style.width = bodyWidth + 'px'\n\n    \n    html2canvas(data).then((canvas)=>{\n        var image = canvas.toDataURL('image/png', 1.0);\n        return image\n    }).then((image)=>{\n        saveAs(image, '2024_LL97_Compliance_Fillout.png') \n        html.style.width = null\n        body.style.width = null\n    })\n}\n\nconst saveAs = (blob, fileName) =>{\n    var elem = window.document.createElement('a');\n    elem.href = blob\n    elem.download = fileName;\n    elem.style = 'display:none;';\n    (document.body || document.documentElement).appendChild(elem);\n    if (typeof elem.click === 'function') {\n        elem.click();\n    } else {\n        elem.target = '_blank';\n        elem.dispatchEvent(new MouseEvent('click', {\n        view: window,\n        bubbles: true,\n        cancelable: true\n        }));\n    }\n    URL.revokeObjectURL(elem.href);\n    elem.remove()\n}\n  \n  return (\n    <div id=\"main-container\" allowtaint=\"true\" foreignobjectrendering=\"true\">\n      <React.Fragment>\n        <LoadBldgModal />\n        <LoadConfirmDialog />\n        <UtilityRateModal />\n        <SmallScreen />\n          <div className=\"main-container\" >\n            <Sidebar />\n            <CardLayout />\n            <Footer />\n              {/*<input type='button' id='but_screenshot' value='Take screenshot' onClick={exportAsPicture}></input>*/}\n          </div>\n      </React.Fragment>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    dims: state.ui.dims,\n  };\n};\n\n\n\nexport default conn(mapStateToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","const initialState = {\n  dims: {\n    height: window.innerHeight,\n    width: window.innerWidth,\n  },\n  isDemoMode: false,\n  isLoadMode: false,\n  infoModalActive: true,\n  loadBldgModalActive: false,\n  utilityRateModalActive: false,\n  loadInputValue: \"\",\n  loadInputResponse: [{}],\n  loadInputSelection: {},\n  loadTableData: [{}],\n  isSmallScreen: false,\n  loadConfirmDialogActive: false,\n  isLoadedError: false,\n};\n\nexport default function uiReducer(state = initialState, action) {\n  switch (action.type) {\n    case \"SET_IS_LOADED_ERROR\": {\n      return {\n        ...state,\n        isLoadedError: action.payload,\n      };\n    }\n    case \"SET_LOAD_CONFIRM_DIALOG_ACTIVE\": {\n      return {\n        ...state,\n        loadConfirmDialogActive: action.payload,\n      };\n    }\n    case \"SET_UTILITY_RATE_MODAL_ACTIVE\": {\n      return {\n        ...state,\n        utilityRateModalActive: action.payload,\n      };\n    }\n    case \"SET_IS_SMALL_SCREEN\": {\n      return {\n        ...state,\n        isSmallScreen: action.payload,\n      };\n    }\n    case \"SET_LOAD_TABLE_DATA\": {\n      return {\n        ...state,\n        loadTableData: action.payload,\n      };\n    }\n    case \"SET_LOAD_INPUT_VALUE\": {\n      return {\n        ...state,\n        loadInputValue: action.payload,\n      };\n    }\n    case \"SET_LOAD_INPUT_RESPONSE\": {\n      return {\n        ...state,\n        loadInputResponse: action.payload,\n      };\n    }\n    case \"SET_LOAD_INPUT_SELECTION\": {\n      return {\n        ...state,\n        loadInputSelection: action.payload,\n      };\n    }\n\n    case \"SET_DIMENSIONS\": {\n      return {\n        ...state,\n        dims: action.payload,\n      };\n    }\n    case \"SET_IS_LOAD_MODE\": {\n      return {\n        ...state,\n        isLoadMode: action.payload,\n      };\n    }\n\n    case \"SET_IS_DEMO_MODE\": {\n      return {\n        ...state,\n        isDemoMode: action.payload,\n      };\n    }\n    case \"SET_LOAD_MODAL_ACTIVE\": {\n      return {\n        ...state,\n        loadBldgModalActive: action.payload,\n      };\n    }\n    case \"SET_INFO_MODAL_ACTIVE\": {\n      return {\n        ...state,\n        infoModalActive: action.payload,\n      };\n    }\n    default:\n      return state;\n  }\n}\n","const compileBuilding = (building) => {\n\tconst co2limitsbybuildingtype = {\n\t\tA: [0.01074, 0.0042, 0.0014],\n\t\tB_health: [0.02381, 0.0133, 0.0014],\n\t\tB_norm: [0.00846, 0.00453, 0.0014],\n\t\tE: [0.00758, 0.00344, 0.0014],\n\t\tF: [0.00574, 0.00167, 0.0014],\n\t\tH: [0.02381, 0.0133, 0.0014],\n\t\tI1: [0.01138, 0.00598, 0.0014],\n\t\tI2: [0.02381, 0.0133, 0.0014],\n\t\tI3: [0.02381, 0.0133, 0.0014],\n\t\tI4: [0.00758, 0.00344, 0.0014],\n\t\tM: [0.01181, 0.00403, 0.0014],\n\t\tR1: [0.00987, 0.00526, 0.0014],\n\t\tR2: [0.00675, 0.00407, 0.0014],\n\t\tS: [0.00426, 0.0011, 0.0014],\n\t\tU: [0.00426, 0.0011, 0.0014],\n\t};\n\n\tlet area = 0;\n\tlet co2limit_2024 = 0;\n\tlet co2limit_2030 = 0;\n\tlet co2limit_2035 = 0;\n\tlet fine_per_ton_co2 = 268;\n\n\tlet types = building.types;\n\tlet utilities = building.utilities;\n\n\tObject.values(types).forEach((type) => {\n\t\tlet limit_2024 = +co2limitsbybuildingtype[type.type][0] * +type.area;\n\t\tlet limit_2030 = +co2limitsbybuildingtype[type.type][1] * +type.area;\n\t\tlet limit_2035 = +co2limitsbybuildingtype[type.type][2] * +type.area;\n\t\tco2limit_2024 = co2limit_2024 + limit_2024;\n\t\tco2limit_2030 = co2limit_2030 + limit_2030;\n\t\tco2limit_2035 = co2limit_2035 + limit_2035;\n\t\tarea = area + +type.area;\n\t});\n\n\tlet elec_kbtu = +utilities.elec.cons * 3.412;\n\tlet gas_kbtu = +utilities.gas.cons * 100;\n\tlet steam_kbtu = +utilities.steam.cons * 1194;\n\tlet fuel_two_kbtu = +utilities.fuel_two.cons * 138;\n\tlet fuel_four_kbtu = +utilities.fuel_four.cons * 146;\n\n\tlet elec_carbon = elec_kbtu * 0.000084689;\n\tlet gas_carbon = gas_kbtu * 0.00005311;\n\tlet steam_carbon = steam_kbtu * 0.00004493;\n\tlet fuel_two_carbon = fuel_two_kbtu * 0.00007421;\n\tlet fuel_four_carbon = fuel_four_kbtu * 0.00007529;\n\n\tlet elec_cost = +utilities.elec.cons * +utilities.elec.rate;\n\tlet gas_cost = +utilities.gas.cons * +utilities.gas.rate;\n\tlet steam_cost = +utilities.steam.cons * +utilities.steam.rate;\n\tlet fuel_two_cost = +utilities.fuel_two.cons * +utilities.fuel_two.rate;\n\tlet fuel_four_cost = +utilities.fuel_four.cons * +utilities.fuel_four.rate;\n\n\tlet elec_kbtu_norm = elec_kbtu / area;\n\tlet gas_kbtu_norm = gas_kbtu / area;\n\tlet steam_kbtu_norm = steam_kbtu / area;\n\tlet fuel_two_kbtu_norm = fuel_two_kbtu / area;\n\tlet fuel_four_kbtu_norm = fuel_four_kbtu / area;\n\n\tlet elec_carbon_norm = elec_carbon / area;\n\tlet gas_carbon_norm = gas_carbon / area;\n\tlet steam_carbon_norm = steam_carbon / area;\n\tlet fuel_two_carbon_norm = fuel_two_carbon / area;\n\tlet fuel_four_carbon_norm = fuel_four_carbon / area;\n\n\tlet elec_cost_norm = elec_cost / area;\n\tlet gas_cost_norm = gas_cost / area;\n\tlet steam_cost_norm = steam_cost / area;\n\tlet fuel_two_cost_norm = fuel_two_cost / area;\n\tlet fuel_four_cost_norm = fuel_four_cost / area;\n\n\tlet total_cost = elec_cost + gas_cost + steam_cost + fuel_two_cost + fuel_four_cost;\n\n\tlet total_carbon = elec_carbon + gas_carbon + steam_carbon + fuel_two_carbon + fuel_four_carbon;\n\tlet fine_2024 = total_carbon > co2limit_2024 ? (total_carbon - co2limit_2024) * fine_per_ton_co2 : 0;\n\tlet fine_2030 = total_carbon > co2limit_2030 ? (total_carbon - co2limit_2030) * fine_per_ton_co2 : 0;\n\tlet fine_2035 = total_carbon > co2limit_2035 ? (total_carbon - co2limit_2035) * fine_per_ton_co2 : 0;\n\n\tif (area < 25000) {\n\t\tfine_2024 = 0;\n\t\tfine_2030 = 0;\n\t\tfine_2035 = 0;\n\t\tco2limit_2024 = 0;\n\t\tco2limit_2030 = 0;\n\t\tco2limit_2035 = 0;\n\t}\n\n\tlet compiled = {\n\t\tsummary: {\n\t\t\ttotal_carbon: total_carbon,\n\t\t\ttotal_cost: total_cost,\n\t\t\ttotal_area: area,\n\t\t\tco2limit_2024: co2limit_2024,\n\t\t\tco2limit_2030: co2limit_2030,\n\t\t\tco2limit_2035: co2limit_2035,\n\t\t\tfine_2024: fine_2024,\n\t\t\tfine_2030: fine_2030,\n\t\t\tfine_2035: fine_2035,\n\t\t},\n\n\t\tutilities: {\n\t\t\tnative: {\n\t\t\t\telec: +utilities.elec.cons,\n\t\t\t\tgas: +utilities.gas.cons,\n\t\t\t\tsteam: +utilities.steam.cons,\n\t\t\t\tfuel_two: +utilities.fuel_two.cons,\n\t\t\t\tfuel_four: +utilities.fuel_four.cons,\n\t\t\t},\n\n\t\t\trates: {\n\t\t\t\telec: +utilities.elec.rate,\n\t\t\t\tgas: +utilities.gas.rate,\n\t\t\t\tsteam: +utilities.steam.rate,\n\t\t\t\tfuel_two: +utilities.fuel_two.rate,\n\t\t\t\tfuel_four: +utilities.fuel_four.rate,\n\t\t\t},\n\n\t\t\tkbtu: {\n\t\t\t\telec: elec_kbtu,\n\t\t\t\tgas: gas_kbtu,\n\t\t\t\tsteam: steam_kbtu,\n\t\t\t\tfuel_two: fuel_two_kbtu,\n\t\t\t\tfuel_four: fuel_four_kbtu,\n\t\t\t},\n\n\t\t\tcarbon: {\n\t\t\t\telec: elec_carbon,\n\t\t\t\tgas: gas_carbon,\n\t\t\t\tsteam: steam_carbon,\n\t\t\t\tfuel_two: fuel_two_carbon,\n\t\t\t\tfuel_four: fuel_four_carbon,\n\t\t\t},\n\n\t\t\tcost: {\n\t\t\t\telec: elec_cost,\n\t\t\t\tgas: gas_cost,\n\t\t\t\tsteam: steam_cost,\n\t\t\t\tfuel_two: fuel_two_cost,\n\t\t\t\tfuel_four: fuel_four_cost,\n\t\t\t},\n\n\t\t\tcost_sf: {\n\t\t\t\telec: elec_cost_norm,\n\t\t\t\tgas: gas_cost_norm,\n\t\t\t\tsteam: steam_cost_norm,\n\t\t\t\tfuel_two: fuel_two_cost_norm,\n\t\t\t\tfuel_four: fuel_four_cost_norm,\n\t\t\t},\n\n\t\t\tkbtu_sf: {\n\t\t\t\telec: elec_kbtu_norm,\n\t\t\t\tgas: gas_kbtu_norm,\n\t\t\t\tsteam: steam_kbtu_norm,\n\t\t\t\tfuel_two: fuel_two_kbtu_norm,\n\t\t\t\tfuel_four: fuel_four_kbtu_norm,\n\t\t\t},\n\t\t\tcarbon_sf: {\n\t\t\t\telec: elec_carbon_norm,\n\t\t\t\tgas: gas_carbon_norm,\n\t\t\t\tsteam: steam_carbon_norm,\n\t\t\t\tfuel_two: fuel_two_carbon_norm,\n\t\t\t\tfuel_four: fuel_four_carbon_norm,\n\t\t\t},\n\t\t},\n\t};\n\n\treturn compiled;\n};\n\nexport { compileBuilding };\n","import { compileBuilding } from '../../components/compilebuilding.js';\nimport { createDefaultBuilding, createDemoBuilding } from '../../components/defaultbuilding.js';\n\nconst initialState = {\n\tinputs: createDefaultBuilding(),\n\tcompiled: compileBuilding(createDefaultBuilding()),\n\tisDefaultRates: false,\n\tloadedResponse: {},\n};\n\nexport default function buildingReducer(state = initialState, action) {\n\tswitch (action.type) {\n\t\tcase 'SET_IS_DEFAULT_RATES': {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisDefaultRates: action.payload,\n\t\t\t};\n\t\t}\n\n\t\tcase 'USE_DEFAULT_RATES': {\n\t\t\tlet tempinputs = { ...state.inputs };\n\t\t\ttempinputs.utilities.elec.rate = '0.22';\n\t\t\ttempinputs.utilities.gas.rate = '0.997';\n\t\t\ttempinputs.utilities.steam.rate = '35';\n\t\t\ttempinputs.utilities.fuel_two.rate = '1.65';\n\t\t\ttempinputs.utilities.fuel_four.rate = '1.65';\n\t\t\tlet tempbuilding = compileBuilding(tempinputs);\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tinputs: tempinputs,\n\t\t\t\tcompiled: tempbuilding,\n\t\t\t};\n\t\t}\n\t\tcase 'USE_NULL_RATES': {\n\t\t\tlet tempinputs = { ...state.inputs };\n\t\t\ttempinputs.utilities.elec.rate = '';\n\t\t\ttempinputs.utilities.gas.rate = '';\n\t\t\ttempinputs.utilities.steam.rate = '';\n\t\t\ttempinputs.utilities.fuel_two.rate = '';\n\t\t\ttempinputs.utilities.fuel_four.rate = '';\n\t\t\tlet tempbuilding = compileBuilding(tempinputs);\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tinputs: tempinputs,\n\t\t\t\tcompiled: tempbuilding,\n\t\t\t};\n\t\t}\n\n\t\tcase 'SET_BUILDING': {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tinputs: action.payload,\n\t\t\t\tcompiled: compileBuilding(action.payload),\n\t\t\t};\n\t\t}\n\t\tcase 'SET_DEMO_BUILDING': {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tinputs: createDemoBuilding(),\n\t\t\t\tcompiled: compileBuilding(createDemoBuilding()),\n\t\t\t};\n\t\t}\n\t\tcase 'SET_DEFAULT_BUILDING': {\n\t\t\treturn {\n\t\t\t\t...initialState,\n\t\t\t};\n\t\t}\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n","const createDefaultBuilding = () => {\n  return {\n    types: {\n      1: {\n        type: \"A\",\n        area: \"\",\n        id: 1,\n      },\n    },\n    utilities: {\n      elec: {\n        cons: \"\",\n        rate: \"\",\n      },\n      gas: {\n        cons: \"\",\n        rate: \"\",\n      },\n      steam: {\n        cons: \"\",\n        rate: \"\",\n      },\n      fuel_two: {\n        cons: \"\",\n        rate: \"\",\n      },\n      fuel_four: {\n        cons: \"\",\n        rate: \"\",\n      },\n    },\n  };\n};\n\nconst createDemoBuilding = () => {\n  return {\n    types: {\n      1: {\n        type: \"B_norm\",\n        area: 50000,\n        id: 1,\n      },\n      2: {\n        type: \"A\",\n        area: 3000,\n        id: 2,\n      },\n    },\n    utilities: {\n      elec: {\n        cons: 750000,\n        rate: 0.193,\n      },\n      gas: {\n        cons: 10000,\n        rate: 1.001,\n      },\n      steam: {\n        cons: 250,\n        rate: 32.8,\n      },\n      fuel_two: {\n        cons: 500,\n        rate: 1.43,\n      },\n      fuel_four: {\n        cons: 0,\n        rate: 1.43,\n      },\n    },\n  };\n};\n\nexport { createDefaultBuilding, createDemoBuilding };\n","import { combineReducers } from 'redux';\n\nimport uiReducer from './uireducer';\nimport buildingReducer from './buildingreducer';\n\nconst rootReducer = combineReducers({\n\tui: uiReducer,\n\tbuilding: buildingReducer,\n});\n\nexport default rootReducer;\n","import { configureStore } from '@reduxjs/toolkit';\nimport rootReducer from './reducers';\nimport thunk from 'redux-thunk';\n\nconst store = configureStore({\n\treducer: rootReducer,\n\tmiddleware: [thunk],\n});\n\nexport { store };\n","// import './wdyr';\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport { store } from './store/configureStore.js';\nimport { Provider } from 'react-redux';\n\nimport './fonts/CircularStd-Black.otf';\n\n// ie polyfills\nif (!Object.values) Object.values = o => Object.keys(o).map(k => o[k]);\nif (window.NodeList && !NodeList.prototype.forEach) {\n\tNodeList.prototype.forEach = function(callback, thisArg) {\n\t\tthisArg = thisArg || window;\n\t\tfor (var i = 0; i < this.length; i++) {\n\t\t\tcallback.call(thisArg, this[i], i, this);\n\t\t}\n\t};\n}\nif (!Array.prototype.map) {\n\tArray.prototype.map = function(callback /*, thisArg*/) {\n\t\tvar T, A, k;\n\n\t\tif (this == null) {\n\t\t\tthrow new TypeError('this is null or not defined');\n\t\t}\n\t\tvar O = Object(this);\n\t\tvar len = O.length >>> 0;\n\t\tif (typeof callback !== 'function') {\n\t\t\tthrow new TypeError(callback + ' is not a function');\n\t\t}\n\t\tif (arguments.length > 1) {\n\t\t\tT = arguments[1];\n\t\t}\n\t\tA = new Array(len);\n\t\tk = 0;\n\n\t\twhile (k < len) {\n\t\t\tvar kValue, mappedValue;\n\t\t\tif (k in O) {\n\t\t\t\tkValue = O[k];\n\t\t\t\tmappedValue = callback.call(T, kValue, k, O);\n\t\t\t\tA[k] = mappedValue;\n\t\t\t}\n\t\t\tk++;\n\t\t}\n\n\t\treturn A;\n\t};\n}\n\n\nReactDOM.render(\n\t<>\n\t\t<Provider store={store}>\n\t\t\t<App />\n\t\t</Provider>\n\t</>,\n\tdocument.getElementById('root')\n);\nserviceWorker.unregister();\n\n\nexport { store };\n"],"sourceRoot":""}